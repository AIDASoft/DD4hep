<lccdd xmlns:compact="http://www.lcsim.org/schemas/compact/1.0" 
    xmlns:xs="http://www.w3.org/2001/XMLSchema" 
    xs:noNamespaceSchemaLocation="http://www.lcsim.org/schemas/compact/1.0/compact.xsd">

    <info name="clic_sid_cdr"
        title="CLIC Silicon Detector CDR"
        author="Christian Grefe"
        url="https://twiki.cern.ch/twiki/bin/view/CLIC/ClicSidCdr"
        status="development"
        version="$Id: compact.xml,v 1.3 2010/12/02 16:34:00 grefe Exp $">
        <comment>The compact format for the CLIC Silicon Detector used for the conceptual design report</comment>        
    </info>

    <includes>
        <gdmlFile  ref="elements.xml"/>
        <gdmlFile  ref="materials.xml"/>
        <pyBuilder ref="../drivers"/>
    </includes>
    
    <define>
        <constant name="world_side" value="30000"/>
        <constant name="world_x" value="world_side"/>
        <constant name="world_y" value="world_side"/>
        <constant name="world_z" value="world_side"/>
        
        <constant name="CrossingAngle" value="0.020"/>
        
        <constant name="CaloSides" value="12"/>
        <constant name="MuonSides" value="8"/>
        
        <constant name="EcalBarrel_rmin" value="126.50*cm"/>
        <constant name="EcalBarrel_zmax" value="176.50*cm"/>
        <constant name="EcalEndcap_rmin" value="21.0*cm"/>
        <constant name="EcalEndcap_rmax" value="(EcalBarrel_rmin - 1.5*cm) / (cos(pi/CaloSides))"/> <!-- Correction from going from inner circle to outer circle -->
        <constant name="EcalEndcap_zmin" value="165.70*cm"/>
        
        <constant name="HcalBarrel_rmin" value="141.90*cm"/>
        <constant name="HcalBarrel_layers" value="(int) 75"/>
        <constant name="HcalBarrel_layer_thickness" value="1.0*cm + 0.65*cm"/>
        <constant name="HcalEndcap_zmin" value="EcalBarrel_zmax + 4.0*cm"/> <!-- Gap for cables -->
        <constant name="HcalEndcap_rmin" value="50.0*cm"/>
        <constant name="HcalEndcap_rmax" value="(HcalBarrel_rmin + HcalBarrel_layers * HcalBarrel_layer_thickness) / (cos(pi/CaloSides))"/> <!-- Correction from going from inner circle to outer circle -->
        <constant name="HcalEndcap_layers" value="60"/>
        <constant name="HcalEndcap_layer_thickness" value="2.0*cm + 0.65*cm"/>
        <constant name="HcalEndcap_zmax" value="HcalEndcap_zmin + HcalEndcap_layers * HcalEndcap_layer_thickness"/>
        
        <constant name="tracking_region_radius" value="EcalBarrel_rmin - 1.0"/>
        <constant name="tracking_region_zmax" value="EcalEndcap_zmin - 1.0"/>
        <constant name="VXD_CF_sensor" value="0.026*cm"/>
        <constant name="VXD_CF_support" value="0.05*cm"/>
        
        <constant name="SolenoidBarrelInnerRadius" value="HcalEndcap_rmax + 2.0*cm"/>
        <constant name="SolenoidCoilOuterZ" value="HcalEndcap_zmax"/> <!-- Aligned with HCAL endcap -->
        <constant name="SolenoidBarrelInnerCryostatThickness" value="3.0*cm"/>
        <constant name="SolenoidBarrelInnerAirgapThickness" value="11.0*cm"/>
        <constant name="SolenoidBarrelAlConductorThickness" value="38.4*cm"/>
        <constant name="SolenoidBarrelQuenchbackThickness" value="5.0*cm"/>
        <constant name="SolenoidBarrelOuterAirgapThickness" value="18.7*cm"/>
        <constant name="SolenoidBarrelOuterCryostatThickness" value="4.0*cm"/>
        <constant name="SolenoidEndcapCryostatThickness" value="6.0*cm"/>
        <constant name="SolenoidEndcapAirgapThickness" value="12.0*cm"/>
        <constant name="SolenoidBarrelOuterZ" value="SolenoidCoilOuterZ+SolenoidEndcapAirgapThickness"/>
        <constant name="SolenoidBarrelConductorInnerRadius" value="SolenoidBarrelInnerRadius + SolenoidBarrelInnerCryostatThickness + SolenoidBarrelInnerAirgapThickness"/>
        <constant name="SolenoidBarrelOuterCryostatInnerRadius" value="SolenoidBarrelConductorInnerRadius + SolenoidBarrelAlConductorThickness + SolenoidBarrelQuenchbackThickness"/>
        <constant name="SolenoidBarrelOuterRadius" value="SolenoidBarrelOuterCryostatInnerRadius + SolenoidBarrelOuterAirgapThickness + SolenoidBarrelOuterCryostatThickness"/>
        <constant name="SolenoidalFieldRadius" value="(SolenoidBarrelConductorInnerRadius + SolenoidBarrelAlConductorThickness / 2.0)"/>
        
        <constant name="MuonBarrel_rmin" value="SolenoidBarrelOuterRadius + 1.0*cm"/>
        <constant name="MuonBarrel_zmax" value="SolenoidBarrelOuterZ + SolenoidEndcapCryostatThickness"/>
        <constant name="MuonBarrel_layers" value="15"/>
        <constant name="MuonBarrel_layer_thickness" value="10.0*cm + 4.0*cm"/>
        <constant name="MuonEndcap_zmin" value="MuonBarrel_zmax + 10.0*cm"/> <!-- Space for cables etc. -->
        <constant name="MuonEndcap_rmin" value="69.0*cm"/> <!-- Space for QD0 and anti-solenoid-->
        <constant name="MuonEndcap_rmax" value="(MuonBarrel_rmin + 57.0*cm + MuonBarrel_layers * MuonBarrel_layer_thickness) / (cos(pi/MuonSides))"/> <!-- Correction from going from inner circle to outer circle -->
        <constant name="MuonEndcap_layers" value="18"/>
        <constant name="MuonEndcap_layer_thickness" value="10.0*cm + 4.0*cm"/>
        <constant name="MuonEndcap_zmax" value="MuonEndcap_zmin + MuonEndcap_layers * MuonEndcap_layer_thickness"/>
        
        <constant name="LumiCal_rmin" value="6.4*cm"/>
        <constant name="LumiCal_rmax" value="EcalEndcap_rmin + 3.0*cm"/>
        <constant name="LumiCal_zmin" value="HcalEndcap_zmin"/>
        <constant name="LumiCal_thickness" value="20*0.371*cm + 15*0.643*cm"/>
        <constant name="LumiCal_zmax" value="LumiCal_zmin + LumiCal_thickness"/>
        <constant name="LumiCalElectronics_rmax" value="LumiCal_rmax+5.0*cm"/>
        
        <constant name="SupportTube_thickness" value="1.0*cm"/>
        <constant name="ForwardVacuumValve_thickness" value="36.0*cm"/>
        <constant name="ForwardShielding_thickness" value="5.0*cm"/>
        <constant name="ForwardMask_thickness" value="10.0*cm"/>
        <constant name="ForwardMask_zmin" value="LumiCal_zmax + ForwardShielding_thickness + ForwardVacuumValve_thickness"/>
        <constant name="BeamCal_rmax" value="13.0*cm"/>
        <constant name="BeamCal_zmin" value="ForwardMask_zmin + ForwardMask_thickness"/>
        
        <constant name="VertexSupport_r1" value="16.87*cm"/>
        <constant name="VertexSupport_r2" value="18.42*cm"/>
        <constant name="VertexSupport_zmax" value="89.48*cm"/>
        
        <constant name="VertexBarrel_zmax" value="10.0*cm"/>
        <constant name="VertexBarrel_r1" value="2.7*cm"/>
        <constant name="VertexBarrel_r2" value="3.8*cm"/>
        <constant name="VertexBarrel_r3" value="5.1*cm"/>
        <constant name="VertexBarrel_r4" value="6.4*cm"/>
        <constant name="VertexBarrel_r5" value="7.7*cm"/>
        
        <constant name="CentralBeamPipe_zmax" value="23.0*cm"/>
        <constant name="CentralBeamPipe_rmax" value="VertexBarrel_r1 - 0.2*cm"/>
        <constant name="CentralBeamPipe_thickness" value="CentralBeamPipe_rmax * 0.02"/> <!-- 1% of the diameter -->
        <constant name="CentralBeamPipe_rmin" value="CentralBeamPipe_rmax - CentralBeamPipe_thickness"/>
        <constant name="BeamPipe_thickness" value="0.4*cm"/>
        <constant name="BeamPipe_endThickness" value="0.1*cm"/>
        <constant name="BeamPipe_zmax" value="LumiCal_zmin - 0.5*cm"/>
        <constant name="BeamPipe_rmax" value="19.0*cm"/>
        <constant name="BeamPipe_rmin" value="BeamPipe_rmax - BeamPipe_thickness"/>
        <constant name="bp_cone_slope" value="(BeamPipe_rmax-CentralBeamPipe_rmax)/(tracking_region_zmax-CentralBeamPipe_zmax)"/>
        <constant name="BeamPipe_zmin" value="CentralBeamPipe_zmax + (BeamPipe_thickness - CentralBeamPipe_thickness)/bp_cone_slope"/>
        <constant name="BeamPipeLiner_thickness" value="0.0*cm"/>
        
        <constant name="VertexEndcap_rmax" value="11.5*cm"/>
        <constant name="VertexEndcap_z1" value="12.0*cm"/>
        <constant name="VertexEndcap_z2" value="16.0*cm"/>
        <constant name="VertexEndcap_z3" value="20.0*cm"/>
        <constant name="VertexEndcap_z4" value="24.0*cm"/>
        <constant name="VertexEndcap_offset" value="0.2*cm"/>
        <constant name="VertexEndcapModules" value="16"/>
        <constant name="VertexEndcap_rmin1" value="CentralBeamPipe_rmax + VertexEndcap_offset"/>
        <constant name="VertexEndcap_rmin2" value="CentralBeamPipe_rmax + VertexEndcap_offset"/>
        <constant name="VertexEndcap_rmin3" value="CentralBeamPipe_rmax + VertexEndcap_offset"/>
        <constant name="VertexEndcap_rmin4" value="(VertexEndcap_z4 - CentralBeamPipe_zmax)*bp_cone_slope + CentralBeamPipe_rmax + VertexEndcap_offset"/>
        
        <constant name="ForwardTracker_rmax" value="16.87*cm"/>
        <constant name="ForwardTracker_z1" value="28.0*cm"/>
        <constant name="ForwardTracker_z2" value="50.0*cm"/>
        <constant name="ForwardTracker_z3" value="83.0*cm"/>
        <constant name="ForwardTracker_offset" value="0.2*cm"/>
        <constant name="ForwardTrackerModules" value="16"/>
        <constant name="ForwardTracker_rmin1" value="(ForwardTracker_z1 - CentralBeamPipe_zmax)*bp_cone_slope + CentralBeamPipe_rmax + ForwardTracker_offset"/>
        <constant name="ForwardTracker_rmin2" value="(ForwardTracker_z2 - CentralBeamPipe_zmax)*bp_cone_slope + CentralBeamPipe_rmax + ForwardTracker_offset"/>
        <constant name="ForwardTracker_rmin3" value="(ForwardTracker_z3 - CentralBeamPipe_zmax)*bp_cone_slope + CentralBeamPipe_rmax + ForwardTracker_offset"/>
        
        <constant name="VertexService_zmin" value="ForwardTracker_z1 + 1.0*cm"/>
        <constant name="VertexService_zmax" value="VertexService_zmin + 2.0*cm"/>
        <constant name="VertexServiceThickness" value="0.3*cm"/>
        <constant name="VertexCableThickness" value="0.005*cm"/>
        
        <constant name="IncomingBP_radius" value="0.25*cm"/>
        <constant name="IncomingBP_thickness" value="0.05*cm"/>
        <constant name="OutgoingBP_radius" value="tan(CrossingAngle/2)*BeamCal_zmin"/>
        <constant name="OutgoingBP_thickness" value="0.1*cm"/>
        
    </define>
    <materials>
        <material name="TungstenDens23">
            <D value="17.7" unit="g/cm3"/>
            <fraction n="0.925" ref="W"/>
            <fraction n="0.066" ref="Ni"/>
            <fraction n="0.009" ref="Fe"/>
        </material>
        <material name="TungstenDens24">
            <D value="17.8" unit="g/cm3"/>
            <fraction n="0.93" ref="W"/>
            <fraction n="0.061" ref="Ni"/>
            <fraction n="0.009" ref="Fe"/>
        </material>
        <material name="TungstenDens25">
            <D value="18.2" unit="g/cm3"/>
            <fraction n="0.950" ref="W"/>
            <fraction n="0.044" ref="Ni"/>
            <fraction n="0.006" ref="Fe"/>
        </material>
        <material name="CarbonFiber_25percent">
            <D type="density" value="0.375" unit="g/cm3"/>
            <fraction n="1.0" ref="CarbonFiber"/>
        </material>
        <material name="CarbonFiber_15percent">
            <D type="density" value="0.225" unit="g/cm3"/>
            <fraction n="1.0" ref="CarbonFiber"/>
        </material>
        <material name="Rohacell31_50percent">
            <D type="density" value="0.016" unit="g/cm3"/>
            <fraction n="1.0" ref="Rohacell31"/>
        </material>
        <material name="Rohacell31_15percent">
            <D type="density" value="0.0048" unit="g/cm3"/>
            <fraction n="1.0" ref="Rohacell31"/>
        </material>
        <material name="BoratedPolyethylene5">
            <D value="0.93" unit="g/cm3"/>
            <fraction n="0.612" ref="C"/>
            <fraction n="0.222" ref="O"/>
            <fraction n="0.116" ref="H"/>
            <fraction n="0.050" ref="B"/>
        </material>
        <material name="SiliconCarbide">
            <D value="3.1" unit="g/cm3"/>
            <composite n="1" ref="Si"/>
            <composite n="1" ref="C"/>
        </material> 
        <material name="SiliconCarbide_6percent">
            <D value="0.186" unit="g/cm3"/>
            <fraction n="1.0" ref="SiliconCarbide"/>
        </material>
        <material name="Graphite">
        	<D value="1.7" unit="g/cm3"/>
        	<composite n="1" ref="C"/>
        </material>      
    </materials>
    <limits>
        <limitset name="cal_limits">
            <limit name="step_length_max" particles="*" value="5.0" unit="mm" />
        </limitset>
    </limits>

    <display>
        <vis name="InvisibleNoDaughters"      showDaughters="false" visible="false"/>
        <vis name="InvisibleWithDaughters"    showDaughters="true" visible="false"/>
        <vis name="SiVertexBarrelModuleVis" alpha="1.0" r="1" g="1" b="0.6" drawingStyle="wireframe" showDaughters="false" visible="true"/>
        <vis name="SiVertexBarrelLayerVis" alpha="1.0" r="1" g="1" b="0.6" showDaughters="true" visible="true"/>
        
        <vis name="SiVertexEndcapLayerVis" alpha="1.0" r="1" g="0.75" b="0" showDaughters="false" visible="true"/>

        <vis name="SiTrackerBarrelModuleVis" alpha="1.0" r="1" g="1" b="0.6" drawingStyle="wireframe" showDaughters="false" visible="true"/>
        <vis name="SiTrackerBarrelLayerVis" alpha="1.0" r="1" g="1" b="0.6" showDaughters="true" visible="true"/>
        
        <vis name="SiTrackerEndcapModuleVis" alpha="0.1" r="0.8" g="1.0" b="0.1" drawingStyle="wireframe" showDaughters="false" visible="true"/>        
            
        <vis name="SiTrackerForwardVis" alpha="1.0" r="0.8" g="0.1" b="0.1" showDaughters="false" visible="true"/>
            
        <vis name="EcalBarrelVis" alpha="1.0" r="0" g="0" b="0.3" showDaughters="true" visible="true"/>
        <vis name="EcalBarrelStaveVis" alpha="1.0" r="1" g="0.9" b="0.5" showDaughters="false" visible="true"/>

        <vis name="EcalEndcapVis"       alpha="1" r="0.77" g="0.74" b="0.86" showDaughters="false" visible="true"/>

        <vis name="HcalBarrelVis"          alpha="1" r="1"    g="1"    b="0.1" showDaughters="true" visible="true"/>
        <vis name="HcalBarrelStavesVis"    alpha="1" r="1"    g="0"    b="0.3" showDaughters="true" visible="true"/>
        <vis name="HcalBarrelLayerVis"     alpha="1" r="1"    g="0"    b="0.5" showDaughters="true" visible="true"/>
        <vis name="HcalBarrelSensorVis"    alpha="1" r="1"    g="1"    b="0.7" showDaughters="true" visible="true"/>

        <vis name="HcalEndcapVis"          alpha="1" r="1"    g="1"    b="0.1" showDaughters="false" visible="true"/>
        <vis name="HcalEndcapLayerVis"     alpha="1" r="1"    g="0"    b="0.5" showDaughters="false" visible="true"/>
        
        <vis name="SolenoidBarrelLayerVis" alpha="1" r="0"    g="0.3"  b="0.3" showDaughters="false" visible="true"/>
        <vis name="SolenoidCoilEndsVis"    alpha="1" r="0"    g="0.9"  b="0.9" showDaughters="false" visible="true"/>
        <vis name="AntiSolenoidVis"        alpha="1" r="0.3"  g="1"    b="1"   showDaughters="false" visible="true"/>

        <vis name="MuonBarrelVis"          alpha="1" r="1"    g="0.4"  b="0.62" showDaughters="true" visible="true"/>
        <vis name="MuonBarrelStavesVis"    alpha="1" r="0"    g="0.7"  b="0.3" showDaughters="true" visible="true"/>
        <vis name="MuonBarrelLayerVis"     alpha="1" r="0"    g="1"    b="0.3" showDaughters="true" visible="true"/>
        <vis name="MuonBarrelSensorVis"    alpha="1" r="0.54" g="0.4"  b="0.41" visible="true"/>
        <vis name="MuonBarrelAbsorberVis"  alpha="1" r="0.28" g="0.4"  b="0.62" visible="true"/>        

        <vis name="MuonEndcapVis"          alpha="1" r="1"    g="0.4"  b="0.62" showDaughters="true" visible="true"/>
        <vis name="MuonEndcapLayerVis"     alpha="1" r="0"    g="1"    b="0.3"  showDaughters="true" visible="true"/>
        <vis name="MuonEndcapSensorVis"    alpha="1" r="0.54" g="0.4"  b="0.41" visible="true"/>
        <vis name="MuonEndcapAbsorberVis"  alpha="1" r="0.28" g="0.4"  b="0.62" visible="true"/>        
                       
        
        <vis name="BeamPipeVis" r="0.0" g="0.99" b="0.0" showDaughters="false" visible="true"/>
        <vis name="CableVis" showDaughters="false" visible="true"/>
        
        <vis name="SupportTubeVis" r="0.1" g="0.1" b="0.99" showDaughters="false" visible="true"/>
        <vis name="TungstenShieldingVis" r="0.99" g="0.1" b="0.2" showDaughters="false" visible="true"/>
        
        <vis name="SupportVis" r="0.8" g="0.8" b="0" showDaughters="false" visible="true"/>
        <vis name="LumiCalVis" showDaughters="false" visible="true"/>
        <vis name="GreenVis" r="0.0" g="1.0" b="0.0" showDaughters="true" visible="true"/>
        <vis name="RedVis" r="1.0" g="0.0" b="0.0" showDaughters="true" visible="true"/>
        <vis name="BlueVis" r="0.0" g="0.0" b="1.0" showDaughters="true" visible="true"/>
    </display>
    <detectors>
        <comment>Trackers</comment> 
        <detector id="1" name="SiVertexBarrel" type="SiTrackerBarrel" readout="SiVertexBarrelHits" insideTrackingVolume="true">
            <comment>Vertex Detector Barrel</comment>
            <module name="VtxBarrelModuleInner" vis="SiVertexBarrelModuleVis">
                <module_envelope width="10.0" length="(VertexBarrel_zmax - 0.1*cm) * 2" thickness="0.6"/>
                <module_component width="7.8" length="(VertexBarrel_zmax - 0.15*cm) * 2" thickness="0.0130*cm" material="Carbon" sensitive="false">
                    <position z="-0.12"/>
                </module_component>
                <module_component width="9.8" length="(VertexBarrel_zmax - 0.15*cm) * 2" thickness="0.005*cm" material="Silicon" sensitive="true">
                    <position z="0.225"/>
                </module_component>
            </module>
            <module name="VtxBarrelModuleOuter" vis="SiVertexBarrelModuleVis">
                <module_envelope width="14.0" length="(VertexBarrel_zmax - 0.1*cm) * 2" thickness="0.6"/>
                <module_component width="11.6" length="(VertexBarrel_zmax - 0.15*cm) * 2" thickness="0.0130*cm" material="Carbon" sensitive="false">
                    <position z="-0.12"/>
                </module_component>
                <module_component width="13.8" length="(VertexBarrel_zmax - 0.15*cm) * 2" thickness="0.005*cm" material="Silicon" sensitive="true">
                    <position z="0.210"/>
                </module_component>
            </module>
            <layer module="VtxBarrelModuleInner" id="1" vis="SiVertexBarrelLayerVis">
                <barrel_envelope inner_r="VertexBarrel_r1 - 0.2*cm" outer_r="VertexBarrel_r1 + 0.2*cm" z_length="VertexBarrel_zmax * 2"/>
                <rphi_layout phi_tilt="0.0" nphi="18" phi0="0.2618" rc="VertexBarrel_r1" dr="-1.15"/>
                <z_layout dr="0.0" z0="0.0" nz="1"/>
            </layer>
            <layer module="VtxBarrelModuleOuter" id="2" vis="SiVertexBarrelLayerVis">
                <barrel_envelope inner_r="VertexBarrel_r2 - 0.2*cm" outer_r="VertexBarrel_r2 + 0.2*cm" z_length="VertexBarrel_zmax * 2"/>
                <rphi_layout phi_tilt="0.0" nphi="18" phi0="0.2618" rc="VertexBarrel_r2" dr="-1.13"/>
                <z_layout dr="0.0" z0="0.0" nz="1"/>
            </layer>
            <layer module="VtxBarrelModuleOuter" id="3" vis="SiVertexBarrelLayerVis">
                <barrel_envelope inner_r="VertexBarrel_r3 - 0.2*cm" outer_r="VertexBarrel_r3 + 0.2*cm" z_length="VertexBarrel_zmax * 2"/>
                <rphi_layout phi_tilt="0.0" nphi="24" phi0="0.0" rc="VertexBarrel_r3" dr="-0.89"/>
                <z_layout dr="0.0" z0="0.0" nz="1"/>
            </layer>
            <layer module="VtxBarrelModuleOuter" id="4" vis="SiVertexBarrelLayerVis">
                <barrel_envelope inner_r="VertexBarrel_r4 - 0.2*cm" outer_r="VertexBarrel_r4 + 0.2*cm" z_length="VertexBarrel_zmax * 2"/>
                <rphi_layout phi_tilt="0.0" nphi="30" phi0="0.1309" rc="VertexBarrel_r4" dr="0.81"/>
                <z_layout dr="0.0" z0="0.0" nz="1"/>
            </layer>
            <layer module="VtxBarrelModuleOuter" id="5" vis="SiVertexBarrelLayerVis">
                <barrel_envelope inner_r="VertexBarrel_r5 - 0.2*cm" outer_r="VertexBarrel_r5 + 0.2*cm" z_length="VertexBarrel_zmax * 2"/>
                <rphi_layout phi_tilt="0.0" nphi="36" phi0="0.0" rc="VertexBarrel_r5" dr="0.77"/>
                <z_layout dr="0.0" z0="0.0" nz="1"/>
            </layer>
        </detector>
        <comment>Vertex Detector Endcaps</comment>
        <detector id="2" name="SiVertexEndcap" type="SiTrackerEndcap2" readout="SiVertexEndcapHits">    
            <module name="SiVertexEndcapModule1">
                <trd x1="VertexEndcap_rmin1 * tan(pi/(VertexEndcapModules-0.1))" x2="VertexEndcap_rmax * sin(pi/(VertexEndcapModules-0.1))" z="(VertexEndcap_rmax - VertexEndcap_rmin1) / 2" />
                <module_component thickness="0.005*cm" material="Silicon" sensitive="true" />
                <module_component thickness="0.013*cm"   material="Carbon" />
            </module>
            <module name="SiVertexEndcapModule2">
                <trd x1="VertexEndcap_rmin2 * tan(pi/(VertexEndcapModules-0.1))" x2="VertexEndcap_rmax * sin(pi/(VertexEndcapModules-0.1))" z="(VertexEndcap_rmax - VertexEndcap_rmin2) / 2" />
                <module_component thickness="0.005*cm" material="Silicon" sensitive="true" />
                <module_component thickness="0.013*cm"   material="Carbon" />
            </module>
            <module name="SiVertexEndcapModule3">
                <trd x1="VertexEndcap_rmin3 * tan(pi/(VertexEndcapModules-0.1))" x2="VertexEndcap_rmax * sin(pi/(VertexEndcapModules-0.1))" z="(VertexEndcap_rmax - VertexEndcap_rmin3) / 2" />
                <module_component thickness="0.005*cm" material="Silicon" sensitive="true" />
                <module_component thickness="0.013*cm"   material="Carbon" />
            </module>
            <module name="SiVertexEndcapModule4">
                <trd x1="VertexEndcap_rmin4 * tan(pi/(VertexEndcapModules-0.1))" x2="VertexEndcap_rmax * sin(pi/(VertexEndcapModules-0.1))" z="(VertexEndcap_rmax - VertexEndcap_rmin4) / 2" />
                <module_component thickness="0.005*cm" material="Silicon" sensitive="true" />
                <module_component thickness="0.013*cm"   material="Carbon" />
            </module>
            <layer id="1"  vis="SiVertexEndcapLayerVis">
                <ring r="(VertexEndcap_rmax + VertexEndcap_rmin1) / 2" zstart="VertexEndcap_z1" nmodules="(int) VertexEndcapModules" dz="0.011" module="SiVertexEndcapModule1"/>
            </layer>
            <layer id="2"  vis="SiVertexEndcapLayerVis">
                <ring r="(VertexEndcap_rmax + VertexEndcap_rmin2) / 2" zstart="VertexEndcap_z2" nmodules="(int) VertexEndcapModules" dz="0.011" module="SiVertexEndcapModule2"/>
            </layer>
            <layer id="3"  vis="SiVertexEndcapLayerVis">
                <ring r="(VertexEndcap_rmax + VertexEndcap_rmin3) / 2" zstart="VertexEndcap_z3" nmodules="(int) VertexEndcapModules" dz="0.011" module="SiVertexEndcapModule3"/>
            </layer>
            <layer id="4"  vis="SiVertexEndcapLayerVis">
                <ring r="(VertexEndcap_rmax + VertexEndcap_rmin4) / 2" zstart="VertexEndcap_z4" nmodules="(int) VertexEndcapModules" dz="0.011" module="SiVertexEndcapModule4"/>
            </layer>
        </detector> 
        <detector id="3" name="SiTrackerBarrel" type="SiTrackerBarrel" readout="SiTrackerBarrelHits">
            <comment>Outer Tracker Barrel</comment>
            <module name="SiTrackerModule_Layer1" vis="SiTrackerBarrelModuleVis">                
                <module_envelope width="97.79" length="97.79" thickness="0.3*cm"/>                
                <module_component width="97.79" length="97.79" thickness="0.02*cm" material="PEEK" sensitive="false">
                    <position z="-0.14*cm" />
                </module_component>                
                <module_component width="97.79" length="97.79" thickness="0.016*cm" material="CarbonFiber_50D" sensitive="false">
                    <position z="-0.122*cm" />
                </module_component>                
                <module_component width="97.79" length="97.79" thickness="0.18*cm" material="Rohacell31_50D" sensitive="false">
                    <position z="-0.024*cm" />
                </module_component>                
                <module_component width="97.79" length="97.79" thickness="0.0175*cm" material="Epoxy" sensitive="false">
                    <position z="0.07475*cm" />
                </module_component>
                <module_component width="97.79" length="97.79" thickness="0.016*cm" material="CarbonFiber_50D" sensitive="false">
                    <position z="0.0915*cm" />
                </module_component>                
                <module_component width="92.031" length="92.031" thickness="0.03*cm" material="Silicon" sensitive="true">
                    <position z="0.1145*cm"/>
                </module_component>                
                <module_component width="97.79" length="97.79" thickness="0.00048*cm" material="Silicon" sensitive="false">
                    <position z="0.12974*cm"/>
                </module_component>                
                <module_component width="97.79" length="97.79" thickness="0.0038*cm" material="Kapton" sensitive="false">
                    <position z="0.1375*cm"/>
                </module_component>                
                <module_component width="97.79" length="97.79" thickness="0.00038*cm" material="Copper" sensitive="false">
                    <position z="0.146*cm"/>
                </module_component>                
            </module>
            <module name="SiTrackerModule_Layer2" vis="SiTrackerBarrelModuleVis">                
                <module_envelope width="97.79" length="97.79" thickness="0.3*cm"/>                
                <module_component width="97.79" length="97.79" thickness="0.02*cm" material="PEEK" sensitive="false">
                    <position z="-0.14*cm" />
                </module_component>                
                <module_component width="97.79" length="97.79" thickness="0.016*cm" material="CarbonFiber_50D" sensitive="false">
                    <position z="-0.122*cm" />
                </module_component>                
                <module_component width="97.79" length="97.79" thickness="0.18*cm" material="Rohacell31_50D" sensitive="false">
                    <position z="-0.024*cm" />
                </module_component>                
                <module_component width="97.79" length="97.79" thickness="0.0175*cm" material="Epoxy" sensitive="false">
                    <position z="0.07475*cm" />
                </module_component>                
                <module_component width="97.79" length="97.79" thickness="0.016*cm" material="CarbonFiber_50D" sensitive="false">
                    <position z="0.0915*cm" />
                </module_component>                
                <module_component width="92.031" length="92.031" thickness="0.03*cm" material="Silicon" sensitive="true">
                    <position z="0.1145*cm"/>
                </module_component>                
                <module_component width="97.79" length="97.79" thickness="0.00048*cm" material="Silicon" sensitive="false">
                    <position z="0.12974*cm"/>
                </module_component>                
                <module_component width="97.79" length="97.79" thickness="0.0051*cm" material="Kapton" sensitive="false">
                    <position z="0.1375*cm"/>
                </module_component>                
                <module_component width="97.79" length="97.79" thickness="0.00052*cm" material="Copper" sensitive="false">
                    <position z="0.146*cm"/>
                </module_component>                
            </module>
            <module name="SiTrackerModule_Layer3" vis="SiTrackerBarrelModuleVis">                
                <module_envelope width="97.79" length="97.79" thickness="0.3*cm"/>                
                <module_component width="97.79" length="97.79" thickness="0.02*cm" material="PEEK" sensitive="false">
                    <position z="-0.14*cm" />
                </module_component>                
                <module_component width="97.79" length="97.79" thickness="0.016*cm" material="CarbonFiber_50D" sensitive="false">
                    <position z="-0.122*cm" />
                </module_component>                
                <module_component width="97.79" length="97.79" thickness="0.18*cm" material="Rohacell31_50D" sensitive="false">
                    <position z="-0.024*cm" />
                </module_component>                
                <module_component width="97.79" length="97.79" thickness="0.0175*cm" material="Epoxy" sensitive="false">
                    <position z="0.07475*cm" />
                </module_component>                
                <module_component width="97.79" length="97.79" thickness="0.016*cm" material="CarbonFiber_50D" sensitive="false">
                    <position z="0.0915*cm" />
                </module_component>                
                <module_component width="92.031" length="92.031" thickness="0.03*cm" material="Silicon" sensitive="true">
                    <position z="0.1145*cm"/>
                </module_component>                
                <module_component width="97.79" length="97.79" thickness="0.00048*cm" material="Silicon" sensitive="false">
                    <position z="0.12974*cm"/>
                </module_component>                
                <module_component width="97.79" length="97.79" thickness="0.0064*cm" material="Kapton" sensitive="false">
                    <position z="0.1375*cm"/>
                </module_component>                
                <module_component width="97.79" length="97.79" thickness="0.00065*cm" material="Copper" sensitive="false">
                    <position z="0.146*cm"/>
                </module_component>                
            </module>
            <module name="SiTrackerModule_Layer4" vis="SiTrackerBarrelModuleVis">                
                <module_envelope width="97.79" length="97.79" thickness="0.3*cm"/>                
                <module_component width="97.79" length="97.79" thickness="0.02*cm" material="PEEK" sensitive="false">
                    <position z="-0.14*cm" />
                </module_component>               
                <module_component width="97.79" length="97.79" thickness="0.016*cm" material="CarbonFiber_50D" sensitive="false">
                    <position z="-0.122*cm" />
                </module_component>                
                <module_component width="97.79" length="97.79" thickness="0.18*cm" material="Rohacell31_50D" sensitive="false">
                    <position z="-0.024*cm" />
                </module_component>                
                <module_component width="97.79" length="97.79" thickness="0.0175*cm" material="Epoxy" sensitive="false">
                    <position z="0.07475*cm" />
                </module_component>                
                <module_component width="97.79" length="97.79" thickness="0.016*cm" material="CarbonFiber_50D" sensitive="false">
                    <position z="0.0915*cm" />
                </module_component>                
                <module_component width="92.031" length="92.031" thickness="0.03*cm" material="Silicon" sensitive="true">
                    <position z="0.1145*cm"/>
                </module_component>                
                <module_component width="97.79" length="97.79" thickness="0.00048*cm" material="Silicon" sensitive="false">
                    <position z="0.12974*cm"/>
                </module_component>                
                <module_component width="97.79" length="97.79" thickness="0.0078*cm" material="Kapton" sensitive="false">
                    <position z="0.1375*cm"/>
                </module_component>                
                <module_component width="97.79" length="97.79" thickness="0.00079*cm" material="Copper" sensitive="false">
                    <position z="0.146*cm"/>
                </module_component>                
            </module>
            <module name="SiTrackerModule_Layer5" vis="SiTrackerBarrelModuleVis">                
                <module_envelope width="97.79" length="97.79" thickness="0.3*cm"/>                
                <module_component width="97.79" length="97.79" thickness="0.02*cm" material="PEEK" sensitive="false">
                    <position z="-0.14*cm" />
                </module_component>                
                <module_component width="97.79" length="97.79" thickness="0.016*cm" material="CarbonFiber_50D" sensitive="false">
                    <position z="-0.122*cm" />
                </module_component>                
                <module_component width="97.79" length="97.79" thickness="0.18*cm" material="Rohacell31_50D" sensitive="false">
                    <position z="-0.024*cm" />
                </module_component>                
                <module_component width="97.79" length="97.79" thickness="0.0175*cm" material="Epoxy" sensitive="false">
                    <position z="0.07475*cm" />
                </module_component>                
                <module_component width="97.79" length="97.79" thickness="0.016*cm" material="CarbonFiber_50D" sensitive="false">
                    <position z="0.0915*cm" />
                </module_component>                
                <module_component width="92.031" length="92.031" thickness="0.03*cm" material="Silicon" sensitive="true">
                    <position z="0.1145*cm"/>
                </module_component>                
                <module_component width="97.79" length="97.79" thickness="0.00048*cm" material="Silicon" sensitive="false">
                    <position z="0.12974*cm"/>
                </module_component>                
                <module_component width="97.79" length="97.79" thickness="0.0091*cm" material="Kapton" sensitive="false">
                    <position z="0.1375*cm"/>
                </module_component>                
                <module_component width="97.79" length="97.79" thickness="0.00093*cm" material="Copper" sensitive="false">
                    <position z="0.146*cm"/>
                </module_component>                
            </module>
            <layer module="SiTrackerModule_Layer1" id="1" vis="SiTrackerBarrelLayerVis">
                <barrel_envelope inner_r="215.075" outer_r="245.0" z_length="578 * 2"/>
                <rphi_layout phi_tilt="0.17506" nphi="20" phi0="0." rc="216.355 + 5.0" dr="0.0"/>
                <z_layout dr="4.0" z0="512.128" nz="13"/>
            </layer>                
            <layer module="SiTrackerModule_Layer2" id="2" vis="SiTrackerBarrelLayerVis">
                <barrel_envelope inner_r="465.075" outer_r="501.0" z_length="749.8 * 2"/>
                <rphi_layout phi_tilt="0.12217" nphi="38" phi0="0.087" rc="466.355 + 5.0" dr="0.0"/>
                <z_layout dr="4.0" z0="690.605" nz="17"/>
            </layer>
            <layer module="SiTrackerModule_Layer3" id="3" vis="SiTrackerBarrelLayerVis">
                <barrel_envelope inner_r="715.075" outer_r="756.0" z_length="1013.9 * 2"/>
                <rphi_layout phi_tilt="0.11493" nphi="58" phi0="0.058" rc="716.355 + 5.0" dr="0.0"/>
                <z_layout dr="4.0" z0="954.625" nz="23"/>
            </layer>            
            <layer module="SiTrackerModule_Layer4" id="4" vis="SiTrackerBarrelLayerVis">
                <barrel_envelope inner_r="965.075" outer_r="1012.0" z_length="1272.3 * 2"/>
                <rphi_layout phi_tilt="0.11502" nphi="80" phi0="0.0436" rc="966.355 + 5.0" dr="0.0"/>
                <z_layout dr="4.0" z0="1213.073" nz="29"/>
            </layer>                        
            <layer module="SiTrackerModule_Layer5" id="5" vis="SiTrackerBarrelLayerVis">
                <barrel_envelope inner_r="1215.075" outer_r="1263.0" z_length="1535.7 * 2"/>
                <rphi_layout phi_tilt="0.11467" nphi="102" phi0="0.01745" rc="1216.355 + 5.0" dr="0.0"/>
                <z_layout dr="4.0" z0="1476.497" nz="35"/>
            </layer>
        </detector>
        <detector id="4" name="SiTrackerEndcap" type="SiTrackerEndcap2" readout="SiTrackerEndcapHits" reflect="true">
            <comment>Outer Tracker Endcaps</comment>
            <module name="Module1" vis="SiTrackerEndcapModuleVis">
                <trd x1="36.112" x2="46.635" z="100.114/2" />
                <module_component thickness="0.00052*cm"   material="Copper" />
                <module_component thickness="0.0051*cm"   material="Kapton" />
                <module_component thickness="0.00048*cm" material="Silicon" />
                <module_component thickness="0.03*cm"   material="Silicon" sensitive="true" />
                <module_component thickness="0.016*cm" material="CarbonFiber_50D" />
                <module_component thickness="0.18*cm" material="Rohacell31_50D" />
                <module_component thickness="0.016*cm" material="CarbonFiber_50D" />
                <module_component thickness="0.0175*cm" material="Epoxy" />
                <module_component thickness="0.03*cm"   material="Silicon" sensitive="true" />
                <module_component thickness="0.00048*cm" material="Silicon" />
                <module_component thickness="0.0051*cm"   material="Kapton" />
                <module_component thickness="0.00052*cm"   material="Copper" />
            </module> 
            <module name="Module2" vis="SiTrackerEndcapModuleVis">
                <trd x1="45.245" x2="54.680" z="89.773/2" />
                <module_component thickness="0.00079*cm"   material="Copper" />
                <module_component thickness="0.0078*cm"   material="Kapton" />
                <module_component thickness="0.00048*cm" material="Silicon" />
                <module_component thickness="0.03*cm"   material="Silicon" sensitive="true" />
                <module_component thickness="0.016*cm" material="CarbonFiber_50D" />
                <module_component thickness="0.18*cm" material="Rohacell31_50D" />
                <module_component thickness="0.016*cm" material="CarbonFiber_50D" />
                <module_component thickness="0.0175*cm" material="Epoxy" />
                <module_component thickness="0.03*cm"   material="Silicon" sensitive="true" />
                <module_component thickness="0.00048*cm" material="Silicon" />
                <module_component thickness="0.0078*cm"   material="Kapton" />
                <module_component thickness="0.00079*cm"   material="Copper" />
            </module>
            <layer id="1">
                <ring r="256.716" zstart="787.105+1.75" nmodules="24" dz="1.75" module="Module1"/>
                <ring r="353.991" zstart="778.776+1.75" nmodules="32" dz="1.75" module="Module1"/>
                <ring r="449.180" zstart="770.544+1.75" nmodules="40" dz="1.75" module="Module1"/>
            </layer>
            <layer id="2">
                <ring r="256.716" zstart="1073.293+1.75" nmodules="24" dz="1.75" module="Module1"/>
                <ring r="353.991" zstart="1064.966+1.75" nmodules="32" dz="1.75" module="Module1"/>
                <ring r="449.180" zstart="1056.734+1.75" nmodules="40" dz="1.75" module="Module1"/>
                <ring r="538.520" zstart="1048.466+1.75" nmodules="40" dz="1.75" module="Module2"/>
                <ring r="625.654" zstart="1041.067+1.75" nmodules="48" dz="1.75" module="Module2"/>
                <ring r="703.666" zstart="1033.725+1.75" nmodules="54" dz="1.75" module="Module2" phi0="pi/54"/>
            </layer>
            <layer id="3">
                <ring r="256.716" zstart="1353.786+1.75" nmodules="24" dz="1.75" module="Module1"/>
                <ring r="353.991" zstart="1345.457+1.75" nmodules="32" dz="1.75" module="Module1"/>
                <ring r="449.180" zstart="1337.225+1.75" nmodules="40" dz="1.75" module="Module1"/>
                <ring r="538.520" zstart="1328.957+1.75" nmodules="40" dz="1.75" module="Module2"/>
                <ring r="625.654" zstart="1321.558+1.75" nmodules="48" dz="1.75" module="Module2"/>
                <ring r="703.666" zstart="1314.217+1.75" nmodules="54" dz="1.75" module="Module2" phi0="pi/54"/>
                <ring r="793.448" zstart="1306.828+1.75" nmodules="58" dz="1.75" module="Module2" phi0="pi/58"/>
                <ring r="874.239" zstart="1299.486+1.75" nmodules="64" dz="1.75" module="Module2"/>
                <ring r="958.364" zstart="1292.189+1.75" nmodules="68" dz="1.75" module="Module2"/>
            </layer>
            <layer id="4">
                <ring r="256.716" zstart="1639.164+1.75" nmodules="24" dz="1.75" module="Module1"/>
                <ring r="353.991" zstart="1630.835+1.75" nmodules="32" dz="1.75" module="Module1"/>
                <ring r="449.180" zstart="1622.603+1.75" nmodules="40" dz="1.75" module="Module1"/>
                <ring r="538.520" zstart="1614.335+1.75" nmodules="40" dz="1.75" module="Module2"/>
                <ring r="625.654" zstart="1606.936+1.75" nmodules="48" dz="1.75" module="Module2"/>
                <ring r="703.666" zstart="1599.595+1.75" nmodules="54" dz="1.75" module="Module2" phi0="pi/54"/>
                <ring r="793.448" zstart="1592.206+1.75" nmodules="58" dz="1.75" module="Module2" phi0="pi/58"/>
                <ring r="874.239" zstart="1584.864+1.75" nmodules="64" dz="1.75" module="Module2"/>
                <ring r="958.364" zstart="1577.567+1.75" nmodules="68" dz="1.75" module="Module2"/>
                <ring r="1040.970" zstart="1570.222+1.75" nmodules="72" dz="1.75" module="Module2"/>
                <ring r="1124.167" zstart="1562.916+1.75" nmodules="78" dz="1.75" module="Module2" phi0="pi/78"/>
                <ring r="1206.937" zstart="1555.647+1.75" nmodules="84" dz="1.75" module="Module2"/>
            </layer>
        </detector>
        
        <detector id="15" name="SiTrackerForward" type="SiTrackerEndcap2" readout="SiTrackerForwardHits">    
            <comment>Forward Tracker inside Vertex Support Barrel</comment>
            <module name="SiTrackerForwardModule1">
                <trd x1="ForwardTracker_rmin1 * tan(pi/(ForwardTrackerModules-0.1))" x2="ForwardTracker_rmax * sin(pi/(ForwardTrackerModules-0.1))" z="(ForwardTracker_rmax - ForwardTracker_rmin1) / 2" />
                <module_component thickness="0.005*cm" material="Silicon" sensitive="true" />
                <module_component thickness="0.013*cm"   material="Carbon" />
            </module>
            <module name="SiTrackerForwardModule2">
                <trd x1="ForwardTracker_rmin2 * tan(pi/(ForwardTrackerModules-0.1))" x2="ForwardTracker_rmax * sin(pi/(ForwardTrackerModules-0.1))" z="(ForwardTracker_rmax - ForwardTracker_rmin2) / 2" />
                <module_component thickness="0.005*cm" material="Silicon" sensitive="true" />
                <module_component thickness="0.013*cm"   material="Carbon" />
            </module>
            <module name="SiTrackerForwardModule3">
                <trd x1="ForwardTracker_rmin3 * tan(pi/(ForwardTrackerModules-0.1))" x2="ForwardTracker_rmax * sin(pi/(ForwardTrackerModules-0.1))" z="(ForwardTracker_rmax - ForwardTracker_rmin3) / 2" />
                <module_component thickness="0.005*cm" material="Silicon" sensitive="true" />
                <module_component thickness="0.013*cm"   material="Carbon" />
            </module>
            <layer id="1">
                <ring r="(ForwardTracker_rmax + ForwardTracker_rmin1) / 2" zstart="ForwardTracker_z1" nmodules="(int) ForwardTrackerModules" dz="0.011" module="SiTrackerForwardModule1"/>
            </layer>
            <layer id="2">
                <ring r="(ForwardTracker_rmax + ForwardTracker_rmin2) / 2" zstart="ForwardTracker_z2" nmodules="(int) ForwardTrackerModules" dz="0.011" module="SiTrackerForwardModule2"/>
            </layer>
            <layer id="3">
                <ring r="(ForwardTracker_rmax + ForwardTracker_rmin3) / 2" zstart="ForwardTracker_z3" nmodules="(int) ForwardTrackerModules" dz="0.011" module="SiTrackerForwardModule3"/>
            </layer>
        </detector>
        <comment>Calorimeters</comment>
        <detector id="5" name="EcalBarrel" type="EcalBarrel" readout="EcalBarrelHits" vis="EcalBarrelVis" calorimeterType="EM_BARREL">
            <comment>EM Calorimeter Barrel</comment>
            <dimensions numsides="(int) CaloSides" rmin="EcalBarrel_rmin" z="EcalBarrel_zmax*2" />
            <staves vis="EcalBarrelStaveVis"/>
            <layer repeat="1">
                <slice material = "Silicon" thickness = "0.032*cm" sensitive = "yes" limits="cal_limits" />
                <slice material = "Copper"  thickness = "0.005*cm" />
                <slice material = "Kapton"  thickness = "0.030*cm" />
                <slice material = "Air"     thickness = "0.033*cm" />
            </layer>      
            <layer repeat="20">
                <slice material = "TungstenDens24" thickness = "0.25*cm" />
                <slice material = "Air"     thickness = "0.025*cm" />
                <slice material = "Silicon" thickness = "0.032*cm" sensitive = "yes" limits="cal_limits" />
                <slice material = "Copper"  thickness = "0.005*cm" />
                <slice material = "Kapton"  thickness = "0.030*cm" />
                <slice material = "Air"     thickness = "0.033*cm" />
            </layer>
            <layer repeat="10">
                <slice material = "TungstenDens24" thickness = "0.5*cm" />
                <slice material = "Air"     thickness = "0.025*cm" />
                <slice material = "Silicon" thickness = "0.032*cm" sensitive = "yes" limits="cal_limits" />
                <slice material = "Copper"  thickness = "0.005*cm" />
                <slice material = "Kapton"  thickness = "0.030*cm" />
                <slice material = "Air"     thickness = "0.033*cm" />
            </layer>
        </detector>
        <detector id="6" name="EcalEndcap" type="PolyhedraEndcapCalorimeter2" reflect="true" readout="EcalEndcapHits" vis="EcalEndcapVis" calorimeterType="EM_ENDCAP">
            <comment>EM Calorimeter Endcaps</comment>
            <dimensions numsides="(int) CaloSides" zmin="EcalEndcap_zmin" rmin="EcalEndcap_rmin" rmax="EcalEndcap_rmax" />
            <layer repeat="1">
                <slice material = "Silicon" thickness = "0.032*cm" sensitive = "yes" limits="cal_limits" />
                <slice material = "Copper"  thickness = "0.005*cm" />
                <slice material = "Kapton"  thickness = "0.030*cm" />
                <slice material = "Air"     thickness = "0.033*cm" />
            </layer>       
            <layer repeat="20">
                <slice material = "TungstenDens24" thickness = "0.25*cm" />
                <slice material = "Air"     thickness = "0.025*cm" />
                <slice material = "Silicon" thickness = "0.032*cm" sensitive = "yes" limits="cal_limits" />
                <slice material = "Copper"  thickness = "0.005*cm" />
                <slice material = "Kapton"  thickness = "0.030*cm" />
                <slice material = "Air"     thickness = "0.033*cm" />
            </layer>
            <layer repeat="10">
                <slice material = "TungstenDens24" thickness = "0.5*cm" />
                <slice material = "Air"     thickness = "0.025*cm" />
                <slice material = "Silicon" thickness = "0.032*cm" sensitive = "yes" limits="cal_limits" />
                <slice material = "Copper"  thickness = "0.005*cm" />
                <slice material = "Kapton"  thickness = "0.030*cm" />
                <slice material = "Air"     thickness = "0.033*cm" />
            </layer>
        </detector>
        <detector id="7" name="HcalBarrel" type="PolyhedraBarrelCalorimeter2" readout="HcalBarrelHits" vis="HcalBarrelVis" calorimeterType="HAD_BARREL" gap="0.*cm" material="Steel235">
            <comment>Hadron Calorimeter Barrel</comment>
            <dimensions numsides="(int) CaloSides" rmin="HcalBarrel_rmin" z="EcalBarrel_zmax*2"/>
            <staves vis="HcalBarrelStavesVis"/>
            <layer repeat="(int) HcalBarrel_layers">
                <slice material = "TungstenDens24" thickness = "1.00*cm" />
                <slice material = "Polystyrene" thickness = "0.50*cm" sensitive = "yes" limits="cal_limits" vis="HcalBarrelSensorVis"/>       
                <slice material = "Air" thickness = "0.15*cm" />
            </layer>
        </detector>
        <detector id="8" name="HcalEndcap" type="PolyhedraEndcapCalorimeter2" readout="HcalEndcapHits" vis="HcalEndcapVis" calorimeterType="HAD_ENDCAP">
            <comment>Hadron Calorimeter Endcaps</comment>
            <dimensions numsides="(int) CaloSides" zmin="HcalEndcap_zmin" rmin="HcalEndcap_rmin" rmax="HcalEndcap_rmax" />
            <layer repeat="(int) HcalEndcap_layers">
                <slice material = "Steel235" thickness = "2.0*cm" />
                <slice material = "Polystyrene" thickness = "0.50*cm" sensitive = "yes" limits="cal_limits" />        
                <slice material = "Air" thickness = "0.15*cm" />
            </layer>
        </detector>
        <detector id="9" name="HcalPlug" type="PolyhedraEndcapCalorimeter2" readout="HcalPlugHits" vis="MuonEndcapVis">
            <comment>Hadron Calorimeter Plug</comment>
            <dimensions numsides="(int) CaloSides" zmin="SolenoidCoilOuterZ" rmin="MuonEndcap_rmin" rmax="HcalEndcap_rmax" />
            <layer repeat="1" vis="MuonEndcapLayerVis">
                <slice material="Iron" thickness="15.0*cm"  vis="MuonEndcapAbsorberVis"/>
                <slice material="Aluminum" thickness="0.1*cm" />
                <slice material="Air" thickness="0.35*cm" />
                <slice material="PyrexGlass" thickness="0.2*cm" />
                <slice material="RPCGasDefault" thickness="0.2*cm" sensitive="yes"  vis="MuonEndcapSensorVis"/>
                <slice material="PyrexGlass" thickness="0.2*cm" />
                <slice material="Air" thickness="0.35*cm" />
                <slice material="Aluminum" thickness="0.1*cm" />
                <slice material="Aluminum" thickness="0.1*cm" />
                <slice material="Air" thickness="0.35*cm" />
                <slice material="PyrexGlass" thickness="0.2*cm" />
                <slice material="RPCGasDefault" thickness="0.2*cm" sensitive="yes"  vis="MuonEndcapSensorVis"/>
                <slice material="PyrexGlass" thickness="0.2*cm" />
                <slice material="Air" thickness="0.35*cm" />
                <slice material="Aluminum" thickness="0.1*cm" />
                <slice material="Air" thickness="1.0*cm" />
                <slice material="Iron" thickness="9.0*cm"  vis="MuonEndcapAbsorberVis"/>
            </layer>
        </detector>
        <detector id="10" name="MuonBarrel" type="PolyhedraBarrelCalorimeter2" readout="MuonBarrelHits" vis="MuonBarrelVis" calorimeterType="MUON_BARREL" gap="0.*cm" material="Steel235">
            <comment>Muon Calorimeter Barrel</comment>
            <dimensions numsides="(int) MuonSides" rmin="MuonBarrel_rmin" z="MuonBarrel_zmax * 2"/>
            <staves vis="MuonBarrelStavesVis"/>
            <!-- Start with an active layer, followed by a thin 5.0cm absorber layer. The second active layer is followed by a thick 20.0cm steel layer to take the forces. -->
            <layer repeat="1" vis="MuonBarrelLayerVis">
            	<slice material="Aluminum" thickness="0.1*cm" />
                <slice material="Air" thickness="0.35*cm" />
                <slice material="PyrexGlass" thickness="0.2*cm" />
                <slice material="RPCGasDefault" thickness="0.2*cm" sensitive="yes" vis="MuonBarrelSensorVis"/>
                <slice material="PyrexGlass" thickness="0.2*cm" />
                <slice material="Air" thickness="0.35*cm" />
                <slice material="Aluminum" thickness="0.1*cm" />
                <slice material="Aluminum" thickness="0.1*cm" />
                <slice material="Air" thickness="0.35*cm" />
                <slice material="PyrexGlass" thickness="0.2*cm" />
                <slice material="RPCGasDefault" thickness="0.2*cm" sensitive="yes" vis="MuonBarrelSensorVis"/>
                <slice material="PyrexGlass" thickness="0.2*cm" />
                <slice material="Air" thickness="0.35*cm" />
                <slice material="Aluminum" thickness="0.1*cm" />
                <slice material="Air" thickness="1.0*cm" />
                <slice material="Iron" thickness="5.0*cm" vis="MuonBarrelAbsorberVis"/>
           </layer>
           <layer repeat="1" vis="MuonBarrelLayerVis">
                <slice material="Aluminum" thickness="0.1*cm" />
                <slice material="Air" thickness="0.35*cm" />
                <slice material="PyrexGlass" thickness="0.2*cm" />
                <slice material="RPCGasDefault" thickness="0.2*cm" sensitive="yes" vis="MuonBarrelSensorVis"/>
                <slice material="PyrexGlass" thickness="0.2*cm" />
                <slice material="Air" thickness="0.35*cm" />
                <slice material="Aluminum" thickness="0.1*cm" />
                <slice material="Aluminum" thickness="0.1*cm" />
                <slice material="Air" thickness="0.35*cm" />
                <slice material="PyrexGlass" thickness="0.2*cm" />
                <slice material="RPCGasDefault" thickness="0.2*cm" sensitive="yes" vis="MuonBarrelSensorVis"/>
                <slice material="PyrexGlass" thickness="0.2*cm" />
                <slice material="Air" thickness="0.35*cm" />
                <slice material="Aluminum" thickness="0.1*cm" />
                <slice material="Air" thickness="1.0*cm" />
                <slice material="Iron" thickness="20.0*cm" vis="MuonBarrelAbsorberVis"/>
            </layer>
            <layer repeat="(int) MuonBarrel_layers" vis="MuonBarrelLayerVis">
                <slice material="Aluminum" thickness="0.1*cm" />
                <slice material="Air" thickness="0.35*cm" />
                <slice material="PyrexGlass" thickness="0.2*cm" />
                <slice material="RPCGasDefault" thickness="0.2*cm" sensitive="yes" vis="MuonBarrelSensorVis"/>
                <slice material="PyrexGlass" thickness="0.2*cm" />
                <slice material="Air" thickness="0.35*cm" />
                <slice material="Aluminum" thickness="0.1*cm" />
                <slice material="Aluminum" thickness="0.1*cm" />
                <slice material="Air" thickness="0.35*cm" />
                <slice material="PyrexGlass" thickness="0.2*cm" />
                <slice material="RPCGasDefault" thickness="0.2*cm" sensitive="yes" vis="MuonBarrelSensorVis"/>
                <slice material="PyrexGlass" thickness="0.2*cm" />
                <slice material="Air" thickness="0.35*cm" />
                <slice material="Aluminum" thickness="0.1*cm" />
                <slice material="Air" thickness="1.0*cm" />
                <slice material="Iron" thickness="10.0*cm" vis="MuonBarrelAbsorberVis"/>
            </layer>
            <!-- The last Iron layer is again 20.0cm to take the forces. -->
            <layer repeat="1" vis="MuonBarrelLayerVis">
            	<slice material="Aluminum" thickness="0.1*cm" />
                <slice material="Air" thickness="0.35*cm" />
                <slice material="PyrexGlass" thickness="0.2*cm" />
                <slice material="RPCGasDefault" thickness="0.2*cm" sensitive="yes" vis="MuonBarrelSensorVis"/>
                <slice material="PyrexGlass" thickness="0.2*cm" />
                <slice material="Air" thickness="0.35*cm" />
                <slice material="Aluminum" thickness="0.1*cm" />
                <slice material="Aluminum" thickness="0.1*cm" />
                <slice material="Air" thickness="0.35*cm" />
                <slice material="PyrexGlass" thickness="0.2*cm" />
                <slice material="RPCGasDefault" thickness="0.2*cm" sensitive="yes" vis="MuonBarrelSensorVis"/>
                <slice material="PyrexGlass" thickness="0.2*cm" />
                <slice material="Air" thickness="0.35*cm" />
                <slice material="Aluminum" thickness="0.1*cm" />
                <slice material="Air" thickness="1.0*cm" />
            	<slice material="Iron" thickness="20.0*cm" vis="MuonBarrelAbsorberVis"/>
            </layer>
        </detector>
        <detector id="11" name="MuonEndcap" type="PolyhedraEndcapCalorimeter2" readout="MuonEndcapHits" reflect="true" vis="MuonEndcapVis" calorimeterType="MUON_ENDCAP">
            <comment>Muon Calorimeter Endcaps</comment>
            <dimensions numsides="(int) MuonSides" zmin="MuonEndcap_zmin" rmin="MuonEndcap_rmin" rmax="MuonEndcap_rmax" />
            <layer repeat="(int) MuonEndcap_layers" vis="MuonEndcapLayerVis">
                <slice material="Iron" thickness="10.0*cm"  vis="MuonEndcapAbsorberVis"/>
                <slice material="Aluminum" thickness="0.1*cm" />
                <slice material="Air" thickness="0.35*cm" />
                <slice material="PyrexGlass" thickness="0.2*cm" />
                <slice material="RPCGasDefault" thickness="0.2*cm" sensitive="yes"  vis="MuonEndcapSensorVis"/>
                <slice material="PyrexGlass" thickness="0.2*cm" />
                <slice material="Air" thickness="0.35*cm" />
                <slice material="Aluminum" thickness="0.1*cm" />
                <slice material="Aluminum" thickness="0.1*cm" />
                <slice material="Air" thickness="0.35*cm" />
                <slice material="PyrexGlass" thickness="0.2*cm" />
                <slice material="RPCGasDefault" thickness="0.2*cm" sensitive="yes"  vis="MuonEndcapSensorVis"/>
                <slice material="PyrexGlass" thickness="0.2*cm" />
                <slice material="Air" thickness="0.35*cm" />
                <slice material="Aluminum" thickness="0.1*cm" />
                <slice material="Air" thickness="1.0*cm" />
            </layer>
        </detector>
        
        <detector id="12" name="LumiCal" reflect="true" type="CylindricalEndcapCalorimeter" readout="LumiCalHits" vis="LumiCalVis" calorimeterType="LUMI">
            <comment>Luminosity Calorimeter</comment>
            <dimensions inner_r = "LumiCal_rmin" inner_z = "LumiCal_zmin" outer_r = "LumiCal_rmax" />
            <layer repeat="20" >
                <slice material = "TungstenDens24" thickness = "0.271*cm" />
                <slice material = "Silicon" thickness = "0.032*cm" sensitive = "yes" />
                <slice material = "Copper"  thickness = "0.005*cm" />
                <slice material = "Kapton"  thickness = "0.030*cm" />
                <slice material = "Air"     thickness = "0.033*cm" />
            </layer>
            <layer repeat="15" >
                <slice material = "TungstenDens24" thickness = "0.543*cm" />
                <slice material = "Silicon" thickness = "0.032*cm" sensitive = "yes" />
                <slice material = "Copper"  thickness = "0.005*cm" />
                <slice material = "Kapton"  thickness = "0.030*cm" />
                <slice material = "Air"     thickness = "0.033*cm" />
            </layer>
        </detector>
        
        <detector name="LumiReadout_Forward" type="PolyconeSupport" vis="LumiCalVis">
        	<comment>Readout for Luminosity Calorimeter</comment>
        	<material name="G10"/>
        	<zplane rmin="LumiCal_rmax" rmax="LumiCalElectronics_rmax" z="LumiCal_zmin"/>
        	<zplane rmin="LumiCal_rmax" rmax="LumiCalElectronics_rmax" z="LumiCal_zmin+LumiCal_thickness"/>
        </detector>
        
      	<detector name="LumiReadout_Backward" type="PolyconeSupport" vis="LumiCalVis">
        	<comment>Readout for Luminosity Calorimeter</comment>
        	<material name="G10"/>
        	<zplane rmin="LumiCal_rmax" rmax="LumiCalElectronics_rmax" z="-LumiCal_zmin"/>
        	<zplane rmin="LumiCal_rmax" rmax="LumiCalElectronics_rmax" z="-(LumiCal_zmin+LumiCal_thickness)"/>
        </detector>
        
 
        <detector id="13" name="BeamCal" reflect="true" type="ForwardDetector" readout="BeamCalHits" vis="LumiCalVis" calorimeterType="BEAM">
            <comment>Beam Calorimeter</comment>
            <dimensions outer_r="BeamCal_rmax" inner_r="0.0*cm" inner_z="BeamCal_zmin" />
            <beampipe crossing_angle="CrossingAngle" outgoing_r="OutgoingBP_radius + 0.05*cm" incoming_r="IncomingBP_radius + 0.05*cm" />
            <layer repeat="50">
                <slice material="TungstenDens24" thickness="0.271*cm" />
                <slice material="Silicon" thickness="0.032*cm" sensitive="yes" />
                <slice material="Copper" thickness="0.005*cm" />
                <slice material="Kapton" thickness="0.030*cm" />
                <slice material="Air" thickness="0.033*cm" />
            </layer>
        </detector>
        
        <comment>Dead material and supports</comment>
        <comment>Beampipe</comment> 
        <detector name="Beampipe" type="PolyconeSupport" insideTrackingVolume="true" vis="BeamPipeVis">
            <comment>Central Be Beampipe</comment>
            <material name="Beryllium"/>
            <zplane rmin="CentralBeamPipe_rmin" rmax="CentralBeamPipe_rmax" z="-CentralBeamPipe_zmax"/>
            <zplane rmin="CentralBeamPipe_rmin" rmax="CentralBeamPipe_rmax" z="CentralBeamPipe_zmax" />
        </detector>
        <detector name="SteelConeZbackward" type="PolyconeSupport" insideTrackingVolume="true" vis="BeamPipeVis">
      		<material name="Iron"/>            
      		<zplane rmin="BeamPipe_rmax - BeamPipe_thickness"
            		rmax="BeamPipe_rmax"
            		z="-tracking_region_zmax" /> 
      		<zplane rmin="CentralBeamPipe_rmin"
            		rmax="(BeamPipe_zmin - CentralBeamPipe_zmax)*bp_cone_slope + CentralBeamPipe_rmax"
            		z="-BeamPipe_zmin" />
           	<zplane rmin="CentralBeamPipe_rmin"
           			rmax="CentralBeamPipe_rmax"
           			z="-CentralBeamPipe_zmax"/>
    	</detector>
    	<detector name="SteelConeZbackward2" type="PolyconeSupport" insideTrackingVolume="false" vis="BeamPipeVis">
      		<material name="Iron"/>            
            <zplane rmin="BeamPipe_rmax - BeamPipe_thickness"
            		rmax="BeamPipe_rmax"
            		z="-(tracking_region_zmax + 0.01*cm)" /> 
            <zplane rmin="BeamPipe_rmax - BeamPipe_thickness"
            		rmax="BeamPipe_rmax"
            		z="- BeamPipe_zmax" />
            <zplane rmin="LumiCal_rmin - 2*BeamPipe_endThickness"
            		rmax="BeamPipe_rmax"
            		z="- (LumiCal_zmin - 2*BeamPipe_endThickness)" />
            <zplane rmin="LumiCal_rmin - 2*BeamPipe_endThickness"
            		rmax="LumiCal_rmin - BeamPipe_endThickness"
            		z="- (LumiCal_zmin - BeamPipe_endThickness)" />
			<zplane rmin="LumiCal_rmin - 2*BeamPipe_endThickness"
            		rmax="LumiCal_rmin - BeamPipe_endThickness"
            		z="- (ForwardMask_zmin - BeamPipe_endThickness)" />
    	</detector>
		<detector name="SteelConeZforward" type="PolyconeSupport" insideTrackingVolume="true" vis="BeamPipeVis">
      		<material name="Iron"/>
      		<zplane rmin="CentralBeamPipe_rmin"
           			rmax="CentralBeamPipe_rmax"
           			z="CentralBeamPipe_zmax"/>            
      		<zplane rmin="CentralBeamPipe_rmin"
            		rmax="(BeamPipe_zmin - CentralBeamPipe_zmax)*bp_cone_slope + CentralBeamPipe_rmax"
            		z="BeamPipe_zmin" /> 
      		<zplane rmin="BeamPipe_rmax - BeamPipe_thickness"
            		rmax="BeamPipe_rmax"
            		z="tracking_region_zmax" />
    	</detector>
    	<detector name="SteelConeZforward2" type="PolyconeSupport" insideTrackingVolume="false" vis="BeamPipeVis">
      		<material name="Iron"/>            
            <zplane rmin="BeamPipe_rmax - BeamPipe_thickness"
            		rmax="BeamPipe_rmax"
            		z="tracking_region_zmax + 0.01*cm" /> 
            <zplane rmin="BeamPipe_rmax - BeamPipe_thickness"
            		rmax="BeamPipe_rmax"
            		z="BeamPipe_zmax" />
            <zplane rmin="LumiCal_rmin - 2*BeamPipe_endThickness"
            		rmax="BeamPipe_rmax"
            		z="LumiCal_zmin - 2*BeamPipe_endThickness" />
            <zplane rmin="LumiCal_rmin - 2*BeamPipe_endThickness"
            		rmax="LumiCal_rmin - BeamPipe_endThickness"
            		z="LumiCal_zmin - BeamPipe_endThickness" />
			<zplane rmin="LumiCal_rmin - 2*BeamPipe_endThickness"
            		rmax="LumiCal_rmin - BeamPipe_endThickness"
            		z="ForwardMask_zmin - BeamPipe_endThickness" />
    	</detector>
        <detector name="NorthIncomingBeampipe" type="TubeSegment" vis="BeamPipeVis">
            <material name="Iron" />
            <tubs rmin="IncomingBP_radius - IncomingBP_thickness" rmax="IncomingBP_radius" zhalf="(MuonEndcap_zmax - ForwardMask_zmin)/2.0" />
            <position x="-((ForwardMask_zmin + MuonEndcap_zmax)/2.0*tan(CrossingAngle)/2.0)" y="0" z="(ForwardMask_zmin + MuonEndcap_zmax)/2.0" />
            <rotation x="0.0" y="CrossingAngle/2.0" z="0.0" />
        </detector>
        <detector name="SouthIncomingBeampipe" type="TubeSegment" vis="BeamPipeVis">
            <material name="Iron" />
            <tubs rmin="IncomingBP_radius - IncomingBP_thickness" rmax="IncomingBP_radius" zhalf="(MuonEndcap_zmax - ForwardMask_zmin)/2.0" />
            <position x="-((ForwardMask_zmin + MuonEndcap_zmax)/2.0*tan(CrossingAngle)/2.0)" y="0" z="- (ForwardMask_zmin + MuonEndcap_zmax)/2.0" />
            <rotation x="0.0" y="- CrossingAngle/2.0" z="0.0" />
        </detector>
        <detector name="NorthOutgoingBeampipe" type="TubeSegment" vis="BeamPipeVis">
            <material name="Iron" />
            <tubs rmin="OutgoingBP_radius - OutgoingBP_thickness" rmax="OutgoingBP_radius" zhalf="(MuonEndcap_zmax - ForwardMask_zmin)/2.0" />
            <position x="((ForwardMask_zmin + MuonEndcap_zmax)/2.0*tan(CrossingAngle)/2.0)" y="0" z="(ForwardMask_zmin + MuonEndcap_zmax)/2.0" />
            <rotation x="0.0" y="- CrossingAngle/2.0" z="0.0" />
        </detector>
        <detector name="SouthOutgoingBeampipe" type="TubeSegment" vis="BeamPipeVis">
            <material name="Iron" />
            <tubs rmin="OutgoingBP_radius - OutgoingBP_thickness" rmax="OutgoingBP_radius" zhalf="(MuonEndcap_zmax - ForwardMask_zmin)/2.0" />
            <position x="((ForwardMask_zmin + MuonEndcap_zmax)/2.0*tan(CrossingAngle)/2.0)" y="0" z="- (ForwardMask_zmin + MuonEndcap_zmax)/2.0" />
            <rotation x="0.0" y="CrossingAngle/2.0" z="0.0" />
        </detector>
        <!-- Beam pipe liner is not needed, use thicker conical steel pipe instead
        <detector name="BeamPipeLiner" type="PolyconeSupport" insideTrackingVolume="true" vis="InvisibleNoDaughters">
            <comment>BeamPipe Liner to shield bremsstrahlung photons</comment>
            <material name="Titanium"/>
            <zplane rmin="(tracking_region_zmax - CentralBeamPipe_zmax)*bp_cone_slope + CentralBeamPipe_rmax - BeamPipe_thickness - BeamPipeLiner_thickness" rmax="(tracking_region_zmax - CentralBeamPipe_zmax)*bp_cone_slope + CentralBeamPipe_rmax - BeamPipe_thickness" z="-tracking_region_zmax" />
            <zplane rmin="CentralBeamPipe_rmax - BeamPipe_thickness - BeamPipeLiner_thickness" rmax="CentralBeamPipe_rmax - BeamPipe_thickness"  z="-(CentralBeamPipe_zmax + 0.01*cm)"/>
            <zplane rmin="CentralBeamPipe_rmin - BeamPipeLiner_thickness" rmax="CentralBeamPipe_rmin" z="-CentralBeamPipe_zmax"  />
            <zplane rmin="CentralBeamPipe_rmin - BeamPipeLiner_thickness" rmax="CentralBeamPipe_rmin" z="CentralBeamPipe_zmax" />
            <zplane rmin="CentralBeamPipe_rmax - BeamPipe_thickness - BeamPipeLiner_thickness" rmax="CentralBeamPipe_rmax - BeamPipe_thickness" z="CentralBeamPipe_zmax + 0.01*cm" />
            <zplane rmin="(tracking_region_zmax - CentralBeamPipe_zmax)*bp_cone_slope + CentralBeamPipe_rmax - BeamPipe_thickness - BeamPipeLiner_thickness" rmax="(tracking_region_zmax - CentralBeamPipe_zmax)*bp_cone_slope + CentralBeamPipe_rmax - BeamPipe_thickness" z="tracking_region_zmax" />
        </detector>
        -->
        <detector name="BeamPipeVacuum" type="PolyconeSupport" insideTrackingVolume="true" vis="InvisibleNoDaughters">
            <comment>Vacuum inside beampipe</comment>
            <material name="Vacuum"/>
            <zplane rmin="0.*cm"
            		rmax="BeamPipe_rmax - BeamPipe_thickness - BeamPipeLiner_thickness"
            		z="-tracking_region_zmax" />
            <zplane rmin="0.*cm"
            		rmax="CentralBeamPipe_rmin - BeamPipeLiner_thickness"
            		z="-BeamPipe_zmin"  />
            <zplane rmin="0.*cm"
            		rmax="CentralBeamPipe_rmin - BeamPipeLiner_thickness"
            		z="BeamPipe_zmin" />
            <zplane rmin="0.*cm"
            		rmax="BeamPipe_rmax - BeamPipe_thickness - BeamPipeLiner_thickness"
            		z="tracking_region_zmax" />
        </detector>
        <detector name="ForwardVacuum" type="PolyconeSupport" insideTrackingVolume="false" vis="InvisibleNoDaughters">
            <material name="Vacuum"/>
            <zplane rmin="0.*cm"
            		rmax="BeamPipe_rmax - BeamPipe_thickness"
            		z="tracking_region_zmax + 0.01*cm" /> 
            <zplane rmin="0.*cm"
            		rmax="BeamPipe_rmax - BeamPipe_thickness"
            		z="BeamPipe_zmax" />
            <zplane rmin="0.*cm"
            		rmax="LumiCal_rmin - 2*BeamPipe_endThickness"
            		z="LumiCal_zmin - 2*BeamPipe_endThickness" />
            <zplane rmin="0.*cm"
            		rmax="LumiCal_rmin - 2*BeamPipe_endThickness"
            		z="LumiCal_zmin - BeamPipe_endThickness" />
	    <zplane rmin="0.*cm"
            		rmax="LumiCal_rmin - 2*BeamPipe_endThickness"
            		z="ForwardMask_zmin - BeamPipe_endThickness" />
        </detector> 
        <detector name="BackwardVacuum" type="PolyconeSupport" insideTrackingVolume="false" vis="InvisibleNoDaughters">
            <material name="Vacuum"/>
            <zplane rmin="0.*cm"
            		rmax="BeamPipe_rmax - BeamPipe_thickness"
            		z="- (tracking_region_zmax + 0.01*cm)" /> 
            <zplane rmin="0.*cm"
            		rmax="BeamPipe_rmax - BeamPipe_thickness"
            		z="- BeamPipe_zmax" />
            <zplane rmin="0.*cm"
            		rmax="LumiCal_rmin - 2*BeamPipe_endThickness"
            		z="- (LumiCal_zmin - 2*BeamPipe_endThickness)" />
            <zplane rmin="0.*cm"
            		rmax="LumiCal_rmin - 2*BeamPipe_endThickness"
            		z="- (LumiCal_zmin - BeamPipe_endThickness)" />
			<zplane rmin="0.*cm"
            		rmax="LumiCal_rmin - 2*BeamPipe_endThickness"
            		z="- (ForwardMask_zmin - BeamPipe_endThickness)" />
        </detector>
        <comment>Vertex Detector Supports and Readout</comment>
        <detector name="VertexBarrelSupports" type="MultiLayerTracker" vis="SupportVis">
            <comment>Double-walled Carbon Fiber support tube</comment>
            <layer id="6" inner_r = "16.87*cm" outer_z = "89.48*cm">
                <slice material = "CarbonFiber" thickness ="VXD_CF_support"/>
            </layer>
            <layer id="7" inner_r = "18.42*cm" outer_z = "89.48*cm">
                <slice material = "CarbonFiber" thickness ="VXD_CF_support"/>
            </layer>
        </detector>
        <detector name="VertexEndSupports" type="DiskTracker" reflect="true" vis="SupportVis">    
            <layer id="7" inner_r = "(86.88*cm - CentralBeamPipe_zmax)*bp_cone_slope + CentralBeamPipe_rmax + VertexEndcap_offset" inner_z = "86.88*cm" outer_r = "16.87*cm">
                <slice material = "CarbonFiber" thickness = "VXD_CF_support" />
            </layer>
            <layer id="8" inner_r = "(89.43*cm - CentralBeamPipe_zmax)*bp_cone_slope + CentralBeamPipe_rmax + VertexEndcap_offset" inner_z = "89.43*cm" outer_r = "16.87*cm">
                <slice material = "CarbonFiber" thickness = "VXD_CF_support" />
            </layer>
        </detector>
        <detector name="VertexReadout" type="DiskTracker" reflect="true" vis="CableVis">
            <comment>Readout and Cabling</comment>
            <layer id="1" inner_r = "VertexBarrel_r1" outer_r="VertexBarrel_r1 + 0.02*cm"  inner_z= "VertexBarrel_zmax + 0.1*cm" vis="GreenVis">
                <slice material = "G10" thickness ="0.5*cm"/>
            </layer>
            <layer id="2" inner_r = "VertexBarrel_r2" outer_r="VertexBarrel_r2 + 0.02*cm" inner_z="VertexBarrel_zmax + 0.1*cm" vis = "BlueVis">
                <slice material = "G10" thickness ="0.5*cm"/>
            </layer>
            <layer id="3" inner_r = "VertexBarrel_r3" outer_r="VertexBarrel_r3 + 0.02*cm"  inner_z="VertexBarrel_zmax + 0.1*cm" vis="RedVis">
                <slice material = "G10" thickness ="0.5*cm"/>
            </layer>
            <layer id="4" inner_r = "VertexBarrel_r4" outer_r = "VertexBarrel_r4 + 0.02*cm"  inner_z= "VertexBarrel_zmax + 0.1*cm">
                <slice material = "G10" thickness ="0.5*cm"/>
            </layer>
            <layer id="5" inner_r = "VertexBarrel_r5" outer_r = "VertexBarrel_r5 + 0.02*cm"  inner_z= "VertexBarrel_zmax + 0.1*cm">
                <slice material = "G10" thickness ="0.5*cm"/>
            </layer>
            <layer id="6" inner_r = "VertexBarrel_r1 - 0.1*cm" outer_r = "VertexBarrel_r2"  inner_z= "VertexBarrel_zmax + 0.6*cm">
                <slice material = "Copper" thickness ="0.0057*cm"/>
            </layer>
            <layer id="7" inner_r = "VertexBarrel_r2 - 0.01*cm" outer_r = "VertexBarrel_r3"  inner_z= "VertexBarrel_zmax + 0.6*cm">
                <slice material = "Copper" thickness ="0.0031*cm"/>
            </layer>
            <layer id="8" inner_r = "VertexBarrel_r3 - 0.01*cm" outer_r = "VertexBarrel_r4"  inner_z= "VertexBarrel_zmax + 0.6*cm">
                <slice material = "Copper" thickness ="0.0016*cm"/>
            </layer>
            <layer id="9" inner_r = "VertexBarrel_r4 - 0.01*cm" outer_r = "VertexBarrel_r5"  inner_z= "VertexBarrel_zmax + 0.6*cm">
                <slice material = "Copper" thickness ="0.0007*cm"/>
            </layer>
            <layer id="10" inner_r = "VertexEndcap_rmin1 - 0.1*cm"  outer_r = "VertexEndcap_rmin1 - 0.01*cm" inner_z = "VertexEndcap_z1 - 0.1*cm">
                <slice material = "G10" thickness = "0.02*cm" />
            </layer>
            <layer id="11" inner_r = "VertexEndcap_rmin2 - 0.1*cm"  outer_r = "VertexEndcap_rmin2 - 0.01*cm" inner_z = "VertexEndcap_z2 - 0.1*cm">
                <slice material = "G10" thickness = "0.02*cm" />
            </layer>
            <layer id="12" inner_r = "VertexEndcap_rmin3 - 0.1*cm"  outer_r = "VertexEndcap_rmin3 - 0.01*cm" inner_z = "VertexEndcap_z3 - 0.1*cm">
                <slice material = "G10" thickness = "0.02*cm" />
            </layer>
            <layer id="13" inner_r = "VertexEndcap_rmin4 - 0.1*cm"  outer_r = "VertexEndcap_rmin4 - 0.01*cm" inner_z = "VertexEndcap_z4 - 0.1*cm">
                <slice material = "G10" thickness = "0.02*cm" />
            </layer>
            <layer id="14" inner_r = "VertexEndcap_rmax + 0.01*cm"  outer_r = "VertexEndcap_rmax + 0.5*cm" inner_z = "VertexEndcap_z1 - 0.1*cm">
                <slice material = "G10" thickness = "0.02*cm" />
            </layer>
            <layer id="15" inner_r = "VertexEndcap_rmax + 0.01*cm"  outer_r = "VertexEndcap_rmax + 0.5*cm" inner_z = "VertexEndcap_z2 - 0.1*cm">
                <slice material = "G10" thickness = "0.02*cm" />
            </layer>
            <layer id="16" inner_r = "VertexEndcap_rmax + 0.01*cm"  outer_r = "VertexEndcap_rmax + 0.5*cm" inner_z = "VertexEndcap_z3 - 0.1*cm">
                <slice material = "G10" thickness = "0.02*cm" />
            </layer>
            <layer id="17" inner_r = "VertexEndcap_rmax + 0.01*cm"  outer_r = "VertexEndcap_rmax + 0.5*cm" inner_z = "VertexEndcap_z4 - 0.1*cm">
                <slice material = "G10" thickness = "0.02*cm" />
            </layer>
        </detector>
        <detector name="VXDcableZforwardBarrel" type="PolyconeSupport" insideTrackingVolume="true" vis="CableVis">
        	<material name="Copper"/>
        	<zplane rmin = "(CentralBeamPipe_rmax)"
        			rmax = "(CentralBeamPipe_rmax + VertexCableThickness)"
        			z="VertexBarrel_zmax + 0.61*cm"/>
        	<zplane rmin = "(CentralBeamPipe_rmax)"
        			rmax = "(CentralBeamPipe_rmax + VertexCableThickness)"
        			z="CentralBeamPipe_zmax"/>
        </detector>
        <detector name="VXDcableZbackwardBarrel" type="PolyconeSupport" insideTrackingVolume="true" vis="CableVis">
        	<material name="Copper"/>
        	<zplane rmin = "(CentralBeamPipe_rmax)"
        			rmax = "(CentralBeamPipe_rmax + VertexCableThickness)"
        			z="-(VertexBarrel_zmax + 0.61*cm)"/>
        	<zplane rmin = "(CentralBeamPipe_rmax)"
        			rmax = "(CentralBeamPipe_rmax + VertexCableThickness)"
        			z="-CentralBeamPipe_zmax"/>
        </detector> 
        <detector name="VXDcableZbackwardOuter" type="PolyconeSupport" insideTrackingVolume="true" vis="CableVis">
            <material name="Copper"/>
            <zplane rmin = "((tracking_region_zmax - CentralBeamPipe_zmax)*bp_cone_slope + CentralBeamPipe_rmax)" 
            		rmax = "((tracking_region_zmax - CentralBeamPipe_zmax)*bp_cone_slope + CentralBeamPipe_rmax + 0.004*cm)" 
            		z="-tracking_region_zmax" />
            <zplane rmin="(VertexService_zmax + 0.01*cm - CentralBeamPipe_zmax)*bp_cone_slope + CentralBeamPipe_rmax"
            		rmax="(VertexService_zmax + 0.01*cm - CentralBeamPipe_zmax)*bp_cone_slope + CentralBeamPipe_rmax + 0.01*cm"
            		z="-(VertexService_zmax + 0.01*cm)"/>
        </detector>
        <detector name="VXDcableZbackwardInner" type="PolyconeSupport" insideTrackingVolume="true" vis="CableVis">
            <material name="Copper"/>
            <zplane rmin="CentralBeamPipe_rmax"
            		rmax="CentralBeamPipe_rmax + VertexCableThickness"
            		z="-(CentralBeamPipe_zmax)"/>
            <zplane rmin="(VertexService_zmin - 0.01*cm - CentralBeamPipe_zmax)*bp_cone_slope + CentralBeamPipe_rmax"
            		rmax="(VertexService_zmin - 0.01*cm - CentralBeamPipe_zmax)*bp_cone_slope + CentralBeamPipe_rmax + VertexCableThickness"
            		z="-(VertexService_zmin - 0.01*cm)"/>
        </detector>
        <detector name="VXDcableZforwardOuter" type="PolyconeSupport" insideTrackingVolume="true" vis="CableVis">
            <material name="Copper"/>
            <zplane rmin = "((tracking_region_zmax - CentralBeamPipe_zmax)*bp_cone_slope + CentralBeamPipe_rmax)" 
            		rmax = "((tracking_region_zmax - CentralBeamPipe_zmax)*bp_cone_slope + CentralBeamPipe_rmax + 0.004*cm)" 
            		z="tracking_region_zmax" />
            <zplane rmin="(VertexService_zmax + 0.01*cm - CentralBeamPipe_zmax)*bp_cone_slope + CentralBeamPipe_rmax"
            		rmax="(VertexService_zmax + 0.01*cm - CentralBeamPipe_zmax)*bp_cone_slope + CentralBeamPipe_rmax + 0.01*cm"
            		z="VertexService_zmax + 0.01*cm"/>
        </detector>
        <detector name="VXDcableZforwardInner" type="PolyconeSupport" insideTrackingVolume="true" vis="CableVis">
            <material name="Copper"/>
            <zplane rmin="(VertexService_zmin - 0.01*cm - CentralBeamPipe_zmax)*bp_cone_slope + CentralBeamPipe_rmax"
            		rmax="(VertexService_zmin - 0.01*cm - CentralBeamPipe_zmax)*bp_cone_slope + CentralBeamPipe_rmax + VertexCableThickness"
            		z="VertexService_zmin - 0.01*cm"/>
            <zplane rmin="CentralBeamPipe_rmax"
            		rmax="CentralBeamPipe_rmax + VertexCableThickness"
            		z="CentralBeamPipe_zmax"/>
        </detector>
        <detector name="VXDserviceZbackward" type="PolyconeSupport" insideTrackingVolume="true" vis="CableVis">
            <material name="G10"/>
            <zplane rmin = "(VertexService_zmax - CentralBeamPipe_zmax)*bp_cone_slope + CentralBeamPipe_rmax"
            		rmax="(VertexService_zmax - CentralBeamPipe_zmax)*bp_cone_slope + CentralBeamPipe_rmax + VertexServiceThickness"
            		z="-VertexService_zmax"/>
            <zplane rmin = "(VertexService_zmin - CentralBeamPipe_zmax)*bp_cone_slope + CentralBeamPipe_rmax"
            		rmax="(VertexService_zmin - CentralBeamPipe_zmax)*bp_cone_slope + CentralBeamPipe_rmax + VertexServiceThickness"
            		z="-VertexService_zmin"/>
        </detector>
        <detector name="VXDserviceZforward" type="PolyconeSupport" insideTrackingVolume="true" vis="CableVis">
            <material name="G10"/>
           	<zplane rmin = "(VertexService_zmin - CentralBeamPipe_zmax)*bp_cone_slope + CentralBeamPipe_rmax"
           			rmax="(VertexService_zmin - CentralBeamPipe_zmax)*bp_cone_slope + CentralBeamPipe_rmax + VertexServiceThickness"
           			z="VertexService_zmin"/>
            <zplane rmin = "(VertexService_zmax - CentralBeamPipe_zmax)*bp_cone_slope + CentralBeamPipe_rmax"
            		rmax="(VertexService_zmax - CentralBeamPipe_zmax)*bp_cone_slope + CentralBeamPipe_rmax + VertexServiceThickness"
            		z="VertexService_zmax"/>
        </detector>
        <comment>Outer Tracker Supports and Readout</comment>
        <detector name="TrackerBarrelSupports" type="MultiLayerTracker">
            <comment>Barrels</comment>
            <layer id="1" inner_r="206.0" outer_z="577.328">
                <slice material="CarbonFiber" thickness="0.05*cm" />
                <slice material="Rohacell31_15percent" thickness="0.8075*cm" />
                <slice material="CarbonFiber" thickness="0.05*cm" />
            </layer>
            <layer id="2" inner_r="456.0" outer_z="749.781">
                <slice material="CarbonFiber" thickness="0.05*cm" />
                <slice material="Rohacell31_15percent" thickness="0.8075*cm" />
                <slice material="CarbonFiber" thickness="0.05*cm" />
            </layer>
            <layer id="3" inner_r="706.0" outer_z="1013.802">
                <slice material= "CarbonFiber" thickness = "0.05*cm" />
                <slice material= "Rohacell31_15percent" thickness="0.8075*cm" />
                <slice material= "CarbonFiber" thickness="0.05*cm" />
            </layer>
            <layer id="4" inner_r="956.0" outer_z="1272.251">
                <slice material="CarbonFiber" thickness="0.05*cm" />
                <slice material="Rohacell31_15percent" thickness="0.8075*cm" />
                <slice material="CarbonFiber" thickness="0.05*cm" />
            </layer>
            <layer id="5" inner_r="1206.0" outer_z="1535.676">
                <slice material="CarbonFiber" thickness="0.05*cm" />
                <slice material="Rohacell31_15percent" thickness="0.8075*cm" />
                <slice material="CarbonFiber" thickness="0.05*cm" />
            </layer>
        </detector>
        <comment>Dished endcap disks</comment>
        <detector name="SiTrackerEndcapSupport1" type="PolyconeSupport" insideTrackingVolume="true" vis="SupportVis">
            <material name="CarbonFiber"/>
            <zplane rmin="510.448" rmax="510.448" z="750.417-0.001" />
            <zplane rmin="504.711" rmax="510.448" z="750.919-0.001" />
            <zplane rmin="206.234" rmax="211.970" z="777.034-0.001" />
            <zplane rmin="206.234" rmax="206.234" z="777.535-0.001" />
        </detector>
        <detector name="SiTrackerEndcapSupport2" type="PolyconeSupport" insideTrackingVolume="true" vis="SupportVis">
            <material name="Rohacell31"/>
            <zplane rmin="510.448" rmax="510.448" z="750.919" />
            <zplane rmin="438.449" rmax="510.448" z="757.218" />
            <zplane rmin="206.234" rmax="278.187" z="777.535" />
            <zplane rmin="206.234" rmax="206.234" z="783.834" />
        </detector>
        <detector name="SiTrackerEndcapSupport3" type="PolyconeSupport" insideTrackingVolume="true" vis="SupportVis">
            <material name="CarbonFiber"/>
            <zplane rmin="510.448" rmax="510.448" z="757.218+0.001" />
            <zplane rmin="504.711" rmax="510.448" z="757.720+0.001" />
            <zplane rmin="206.234" rmax="211.970" z="783.834+0.001" />
            <zplane rmin="206.234" rmax="206.234" z="784.336+0.001 " />
        </detector>
        <detector name="SiTrackerEndcapSupport4" type="PolyconeSupport" insideTrackingVolume="true" vis="SupportVis">
            <material name="CarbonFiber"/>
            <zplane rmin="763.796" rmax="763.796" z="1014.437-0.001" />
            <zplane rmin="758.059" rmax="763.796" z="1014.939-0.001" />
            <zplane rmin="206.234" rmax="211.970" z="1063.219-0.001" />
            <zplane rmin="206.234" rmax="206.234" z="1063.721-0.001" />
        </detector>
        <detector name="SiTrackerEndcapSupport5" type="PolyconeSupport" insideTrackingVolume="true" vis="SupportVis">
            <material name="Rohacell31"/>
            <zplane rmin="763.796" rmax="763.796" z="1014.939" />
            <zplane rmin="691.797" rmax="763.796" z="1021.238" />
            <zplane rmin="206.234" rmax="278.187" z="1063.721" />
            <zplane rmin="206.234" rmax="206.234" z="1070.020" />
        </detector>
        <detector name="SiTrackerEndcapSupport6" type="PolyconeSupport" insideTrackingVolume="true" vis="SupportVis">
            <material name="CarbonFiber"/>
            <zplane rmin="763.796" rmax="763.796" z="1021.238+0.001" />
            <zplane rmin="758.059" rmax="763.796" z="1021.740+0.001" />
            <zplane rmin="206.234" rmax="211.970" z="1070.020+0.001" />
            <zplane rmin="206.234" rmax="206.234" z="1070.522+0.001" />
        </detector>
        <detector name="SiTrackerEndcapSupport7" type="PolyconeSupport" insideTrackingVolume="true" vis="SupportVis">
            <material name="CarbonFiber"/>
            <zplane rmin="1015.748" rmax="1015.748" z="1272.885-0.001" />
            <zplane rmin="1010.011" rmax="1015.748" z="1273.387-0.001" />
            <zplane rmin="206.234" rmax="211.970" z="1343.711-0.001" />
            <zplane rmin="206.234" rmax="206.234" z="1344.213-0.001" />
        </detector>
        <detector name="SiTrackerEndcapSupport8" type="PolyconeSupport" insideTrackingVolume="true" vis="SupportVis">
            <material name="Rohacell31"/>
            <zplane rmin="1015.748" rmax="1015.748" z="1273.387" />
            <zplane rmin="943.753" rmax="1015.748" z="1279.686" />
            <zplane rmin="206.234" rmax="278.187" z="1344.213" />
            <zplane rmin="206.234" rmax="206.234" z="1350.512" />
        </detector>
        <detector name="SiTrackerEndcapSupport9" type="PolyconeSupport" insideTrackingVolume="true" vis="SupportVis">
            <material name="CarbonFiber"/>
            <zplane rmin="1015.748" rmax="1015.748" z="1279.686+0.001" />
            <zplane rmin="1010.011" rmax="1015.748" z="1280.188+0.001" />
            <zplane rmin="206.234" rmax="211.970" z="1350.512+0.001" />
            <zplane rmin="206.234" rmax="206.234" z="1351.014+0.001" />
        </detector>
        <detector name="SiTrackerEndcapSupport10" type="PolyconeSupport" insideTrackingVolume="true" vis="SupportVis">
            <material name="CarbonFiber"/>
            <zplane rmin="1263.808" rmax="1263.808" z="1536.560-0.001" />
            <zplane rmin="1258.071" rmax="1263.808" z="1537.062-0.001" />
            <zplane rmin="206.234" rmax="211.970" z="1629.089-0.001" />
            <zplane rmin="206.234" rmax="206.234" z="1629.591-0.001" />
        </detector>
        <detector name="SiTrackerEndcapSupport11" type="PolyconeSupport" insideTrackingVolume="true" vis="SupportVis">
            <material name="Rohacell31"/>
            <zplane rmin="1263.808" rmax="1263.808" z="1537.062" />
            <zplane rmin="1191.810" rmax="1263.808" z="1543.361" />
            <zplane rmin="206.234" rmax="278.187" z="1629.591" />
            <zplane rmin="206.234" rmax="206.234" z="1635.890" />
        </detector>
        <detector name="SiTrackerEndcapSupport12" type="PolyconeSupport" insideTrackingVolume="true" vis="SupportVis">
            <material name="CarbonFiber"/>
            <zplane rmin="1263.808" rmax="1263.808" z="1543.361+0.001" />
            <zplane rmin="1258.071" rmax="1263.808" z="1543.863+0.001" />
            <zplane rmin="206.234" rmax="211.970" z="1635.890+0.001" />
            <zplane rmin="206.234" rmax="206.234" z="1636.392+0.001" />
        </detector>
        <detector name="SiTrackerEndcapSupport1Reflect" type="PolyconeSupport" insideTrackingVolume="true" vis="SupportVis">
            <material name="CarbonFiber"/>
            <zplane rmin="510.448" rmax="510.448" z="-750.417+0.001" />
            <zplane rmin="504.711" rmax="510.448" z="-750.919+0.001" />
            <zplane rmin="206.234" rmax="211.970" z="-777.034+0.001" />
            <zplane rmin="206.234" rmax="206.234" z="-777.535+0.001" />
        </detector>
        <detector name="SiTrackerEndcapSupport2Reflect" type="PolyconeSupport" insideTrackingVolume="true" vis="SupportVis">
            <material name="Rohacell31"/>
            <zplane rmin="510.448" rmax="510.448" z="-750.919" />
            <zplane rmin="438.449" rmax="510.448" z="-757.218" />
            <zplane rmin="206.234" rmax="278.187" z="-777.535" />
            <zplane rmin="206.234" rmax="206.234" z="-783.834" />
        </detector>
        <detector name="SiTrackerEndcapSupport3Reflect" type="PolyconeSupport" insideTrackingVolume="true" vis="SupportVis">
            <material name="CarbonFiber"/>
            <zplane rmin="510.448" rmax="510.448" z="-757.218-0.001" />
            <zplane rmin="504.711" rmax="510.448" z="-757.720-0.001" />
            <zplane rmin="206.234" rmax="211.970" z="-783.834-0.001" />
            <zplane rmin="206.234" rmax="206.234" z="-784.336-0.001 " />
        </detector>
        <detector name="SiTrackerEndcapSupport4Reflect" type="PolyconeSupport" insideTrackingVolume="true" vis="SupportVis">
            <material name="CarbonFiber"/>
            <zplane rmin="763.796" rmax="763.796" z="-1014.437+0.001" />
            <zplane rmin="758.059" rmax="763.796" z="-1014.939+0.001" />
            <zplane rmin="206.234" rmax="211.970" z="-1063.219+0.001" />
            <zplane rmin="206.234" rmax="206.234" z="-1063.721+0.001" />
        </detector>
        <detector name="SiTrackerEndcapSupport5Reflect" type="PolyconeSupport" insideTrackingVolume="true" vis="SupportVis">
            <material name="Rohacell31"/>
            <zplane rmin="763.796" rmax="763.796" z="-1014.939" />
            <zplane rmin="691.797" rmax="763.796" z="-1021.238" />
            <zplane rmin="206.234" rmax="278.187" z="-1063.721" />
            <zplane rmin="206.234" rmax="206.234" z="-1070.020" />
        </detector>
        <detector name="SiTrackerEndcapSupport6Reflect" type="PolyconeSupport" insideTrackingVolume="true" vis="SupportVis">
            <material name="CarbonFiber"/>
            <zplane rmin="763.796" rmax="763.796" z="-1021.238-0.001" />
            <zplane rmin="758.059" rmax="763.796" z="-1021.740-0.001" />
            <zplane rmin="206.234" rmax="211.970" z="-1070.020-0.001" />
            <zplane rmin="206.234" rmax="206.234" z="-1070.522-0.001" />
        </detector>
        <detector name="SiTrackerEndcapSupport7Reflect" type="PolyconeSupport" insideTrackingVolume="true" vis="SupportVis">
            <material name="CarbonFiber"/>
            <zplane rmin="1015.748" rmax="1015.748" z="-1272.885+0.001" />
            <zplane rmin="1010.011" rmax="1015.748" z="-1273.387+0.001" />
            <zplane rmin="206.234" rmax="211.970" z="-1343.711+0.001" />
            <zplane rmin="206.234" rmax="206.234" z="-1344.213+0.001" />
        </detector>
        <detector name="SiTrackerEndcapSupport8Reflect" type="PolyconeSupport" insideTrackingVolume="true" vis="SupportVis">
            <material name="Rohacell31"/>
            <zplane rmin="1015.748" rmax="1015.748" z="-1273.387" />
            <zplane rmin="943.753" rmax="1015.748" z="-1279.686" />
            <zplane rmin="206.234" rmax="278.187" z="-1344.213" />
            <zplane rmin="206.234" rmax="206.234" z="-1350.512" />
        </detector>
        <detector name="SiTrackerEndcapSupport9Reflect" type="PolyconeSupport" insideTrackingVolume="true" vis="SupportVis">
            <material name="CarbonFiber"/>
            <zplane rmin="1015.748" rmax="1015.748" z="-1279.686-0.001" />
            <zplane rmin="1010.011" rmax="1015.748" z="-1280.188-0.001" />
            <zplane rmin="206.234" rmax="211.970" z="-1350.512-0.001" />
            <zplane rmin="206.234" rmax="206.234" z="-1351.014-0.001" />
        </detector>
        <detector name="SiTrackerEndcapSupport10Reflect" type="PolyconeSupport" insideTrackingVolume="true" vis="SupportVis">
            <material name="CarbonFiber"/>
            <zplane rmin="1263.808" rmax="1263.808" z="-1536.560+0.001" />
            <zplane rmin="1258.071" rmax="1263.808" z="-1537.062+0.001" />
            <zplane rmin="206.234" rmax="211.970" z="-1629.089+0.001" />
            <zplane rmin="206.234" rmax="206.234" z="-1629.591+0.001" />
        </detector>
        <detector name="SiTrackerEndcapSupport11Reflect" type="PolyconeSupport" insideTrackingVolume="true" vis="SupportVis">
            <material name="Rohacell31"/>
            <zplane rmin="1263.808" rmax="1263.808" z="-1537.062" />
            <zplane rmin="1191.810" rmax="1263.808" z="-1543.361" />
            <zplane rmin="206.234" rmax="278.187" z="-1629.591" />
            <zplane rmin="206.234" rmax="206.234" z="-1635.890" />
        </detector>
        <detector name="SiTrackerEndcapSupport12Reflect" type="PolyconeSupport" insideTrackingVolume="true" vis="SupportVis">
            <material name="CarbonFiber"/>
            <zplane rmin="1263.808" rmax="1263.808" z="-1543.361-0.001" />
            <zplane rmin="1258.071" rmax="1263.808" z="-1543.863-0.001" />
            <zplane rmin="206.234" rmax="211.970" z="-1635.890-0.001" />
            <zplane rmin="206.234" rmax="206.234" z="-1636.392-0.001" />
        </detector>        
        <detector name="TrackerReadout" type="DiskTracker" reflect="true" vis="GreenVis">
            <comment>Readouts</comment>
            <layer id="1" inner_r="25.7*cm" inner_z="590.402" outer_r="45.6*cm">
                <slice material="G10" thickness="0.057*cm" />
                <slice material="Copper" thickness="0.0038*cm" />
            </layer>
            <layer id="2" inner_r="51.0*cm" inner_z="762.854" outer_r="70.6*cm">
                <slice material = "G10" thickness="0.102*cm" />
                <slice material = "Copper" thickness="0.0068*cm" />
            </layer>
            <layer id="3" inner_r="76.3*cm" inner_z="1026.874" outer_r="95.6*cm">
                <slice material="G10" thickness="0.108*cm" />
                <slice material="Copper" thickness="0.0072*cm" />
            </layer>
            <layer id="4" inner_r="101.3*cm" inner_z="1285.322" outer_r="120.6*cm">
                <slice material="G10" thickness="0.186*cm" />
                <slice material="Copper" thickness="0.0124*cm" />
            </layer>
            <layer id="5" inner_r= "101.3*cm" inner_z="1610.0" outer_r="120.6*cm">
                <slice material="G10" thickness="0.246*cm" />
                <slice material="Copper" thickness="0.0164*cm" />
            </layer>
        </detector>
        <comment>Masks and Shielding</comment>
        <detector name="LumiShielding_Forward" type="PolyconeSupport" insideTrackingVolume="false" vis="TungstenShieldingVis">
        	<material name="TungstenDens24" />
        	<zplane rmin="LumiCal_rmin" rmax="LumiCalElectronics_rmax" z="LumiCal_zmax"/>
        	<zplane rmin="LumiCal_rmin" rmax="LumiCalElectronics_rmax" z="LumiCal_zmax+ForwardShielding_thickness"/>
        </detector>
        <detector name="LumiShielding_Backward" type="PolyconeSupport" insideTrackingVolume="false" vis="TungstenShieldingVis">
        	<material name="TungstenDens24" />
        	<zplane rmin="LumiCal_rmin" rmax="LumiCalElectronics_rmax" z="-LumiCal_zmax"/>
        	<zplane rmin="LumiCal_rmin" rmax="LumiCalElectronics_rmax" z="-(LumiCal_zmax+ForwardShielding_thickness)"/>
        </detector>
        <detector name="ECalShielding_Forward" type="PolyconeSupport" insideTrackingVolume="false" vis="TungstenShieldingVis">
        	<material name="TungstenDens24" />
        	<zplane rmin="LumiCalElectronics_rmax" rmax="HcalEndcap_rmin-SupportTube_thickness-1.0*cm" z="HcalEndcap_zmin"/>
        	<zplane rmin="LumiCalElectronics_rmax" rmax="HcalEndcap_rmin-SupportTube_thickness-1.0*cm" z="HcalEndcap_zmin+ForwardShielding_thickness"/>
        </detector>
        <detector name="ECalShielding_Backward" type="PolyconeSupport" insideTrackingVolume="false" vis="TungstenShieldingVis">
        	<material name="TungstenDens24" />
        	<zplane rmin="LumiCalElectronics_rmax" rmax="HcalEndcap_rmin-SupportTube_thickness-1.0*cm" z="-HcalEndcap_zmin"/>
        	<zplane rmin="LumiCalElectronics_rmax" rmax="HcalEndcap_rmin-SupportTube_thickness-1.0*cm" z="-(HcalEndcap_zmin+ForwardShielding_thickness)"/>
        </detector>
        <detector name="ShieldingTube_Forward" type="PolyconeSupport" insideTrackingVolume="false" vis="TungstenShieldingVis">
        	<material name="TungstenDens24" />
        	<zplane rmin="HcalEndcap_rmin - SupportTube_thickness - ForwardShielding_thickness - 1.0*cm"
        			rmax="HcalEndcap_rmin - SupportTube_thickness - 1.0*cm"
        			z="HcalEndcap_zmin + ForwardShielding_thickness"/>
        	<zplane rmin="HcalEndcap_rmin - SupportTube_thickness - ForwardShielding_thickness - 1.0*cm"
        			rmax="HcalEndcap_rmin - SupportTube_thickness - 1.0*cm"
        			z="HcalEndcap_zmax"/>
		</detector>
		<detector name="ShieldingTube_Backward" type="PolyconeSupport" insideTrackingVolume="false" vis="TungstenShieldingVis">
        	<material name="TungstenDens24" />
        	<zplane rmin="HcalEndcap_rmin - SupportTube_thickness - ForwardShielding_thickness - 1.0*cm"
        			rmax="HcalEndcap_rmin - SupportTube_thickness - 1.0*cm"
        			z="-(HcalEndcap_zmin + ForwardShielding_thickness)"/>
        	<zplane rmin="HcalEndcap_rmin - SupportTube_thickness - ForwardShielding_thickness - 1.0*cm"
        			rmax="HcalEndcap_rmin - SupportTube_thickness - 1.0*cm"
        			z="-HcalEndcap_zmax"/>
		</detector>
		<detector name="SupportTube_Forward" type="PolyconeSupport" insideTrackingVolume="false" vis="SupportTubeVis">
        	<material name="Steel235" />
        	<zplane rmin="HcalEndcap_rmin - 2*SupportTube_thickness"
        			rmax="HcalEndcap_rmin - SupportTube_thickness"
        			z="HcalEndcap_zmin"/>
        	<zplane rmin="HcalEndcap_rmin - 2*SupportTube_thickness"
        			rmax="HcalEndcap_rmin - SupportTube_thickness"
        			z="MuonEndcap_zmax"/>
		</detector>
		<detector name="SupportTube_Backward" type="PolyconeSupport" insideTrackingVolume="false" vis="SupportTubeVis">
        	<material name="Steel235" />
        	<zplane rmin="HcalEndcap_rmin - 2*SupportTube_thickness"
        			rmax="HcalEndcap_rmin - SupportTube_thickness"
        			z="-HcalEndcap_zmin"/>
        	<zplane rmin="HcalEndcap_rmin - 2*SupportTube_thickness"
        			rmax="HcalEndcap_rmin - SupportTube_thickness"
        			z="-MuonEndcap_zmax"/>
		</detector>
		<detector name="AntiSolenoid_Forward" type="PolyconeSupport" insideTrackingVolume="false" vis="AntiSolenoidVis">
			<material name="Steel235" />
        	<zplane rmin="HcalEndcap_rmin + 1.0*cm"
        			rmax="MuonEndcap_rmin - 1.0*cm"
        			z="HcalEndcap_zmax + 1.0*cm"/>
        	<zplane rmin="HcalEndcap_rmin + 1.0*cm"
        			rmax="MuonEndcap_rmin - 1.0*cm"
        			z="MuonEndcap_zmax"/>
        </detector>
        <detector name="AntiSolenoid_Backward" type="PolyconeSupport" insideTrackingVolume="false" vis="AntiSolenoidVis">
			<material name="Steel235" />
        	<zplane rmin="HcalEndcap_rmin + 1.0*cm"
        			rmax="MuonEndcap_rmin - 1.0*cm"
        			z="-(HcalEndcap_zmax + 1.0*cm)"/>
        	<zplane rmin="HcalEndcap_rmin + 1.0*cm"
        			rmax="MuonEndcap_rmin - 1.0*cm"
        			z="-MuonEndcap_zmax"/>
        </detector>

        <detector name="ForwardLowZ" type="ForwardDetector" vis="TungstenShieldingVis" reflect="true">
            <dimensions outer_r="BeamCal_rmax" inner_r="0.0*cm" inner_z="ForwardMask_zmin" />
            <beampipe crossing_angle="CrossingAngle" outgoing_r="OutgoingBP_radius + 0.05*cm" incoming_r="IncomingBP_radius + 0.05*cm" />
            <layer repeat="1">
                <slice material = "Graphite" thickness = "ForwardMask_thickness" sensitive = "no" />
            </layer>
        </detector>
  
        <comment>Solenoid</comment>
        <detector name="SolenoidCoilBarrel" type="MultiLayerTracker" insideTrackingVolume="false">
            <layer id="1" inner_r="SolenoidBarrelInnerRadius" outer_z="SolenoidBarrelOuterZ" vis="SolenoidBarrelLayerVis">
                <slice material="Steel235" thickness="SolenoidBarrelInnerCryostatThickness" />
                <slice material="Vacuum"   thickness="SolenoidBarrelInnerAirgapThickness" />
            </layer>
            <layer id="2" inner_r="SolenoidBarrelConductorInnerRadius" outer_z="SolenoidCoilOuterZ" vis="SolenoidBarrelLayerVis">
                <slice material="Aluminum" thickness="SolenoidBarrelAlConductorThickness" />
                <slice material="Aluminum" thickness="SolenoidBarrelQuenchbackThickness" />
            </layer>
            <layer id="3" inner_r="SolenoidBarrelOuterCryostatInnerRadius" outer_z="SolenoidBarrelOuterZ" vis="SolenoidBarrelLayerVis">
                <slice material="Vacuum"   thickness="SolenoidBarrelOuterAirgapThickness" />
                <slice material="Steel235" thickness="SolenoidBarrelOuterCryostatThickness" />
            </layer>
        </detector>

        <detector name="SolenoidCoilEnds" type="DiskTracker" reflect="true" insideTrackingVolume="false">
            <layer id="1" inner_r="SolenoidBarrelInnerRadius" inner_z="SolenoidBarrelOuterZ" outer_r="SolenoidBarrelOuterRadius" vis="SolenoidCoilEndsVis">
                <slice material="Steel235" thickness="SolenoidEndcapCryostatThickness" />
            </layer>
        </detector>

    </detectors>

    <readouts>
        <readout name="SiTrackerEndcapHits">
            <id>system:6,barrel:3,layer:4,module:16,sensor:1,side:32:-2,strip:20</id>
        </readout>        
        <readout name="SiTrackerBarrelHits">
            <id>system:6,barrel:3,layer:4,module:12,sensor:1,side:v32:-2,strip:20</id>
        </readout>
        <readout name="SiVertexBarrelHits">
            <id>system:6,barrel:3,layer:4,module:12,sensor:1,side:32:-2,strip:24</id>
        </readout>
        <readout name="SiVertexEndcapHits">
            <id>system:6,barrel:3,layer:4,wedge:6,module:6,sensor:1,side:32:-2,strip:26</id>
        </readout>
        <readout name="EcalBarrelHits">
            <segmentation type="EcalBarrelCartesianGridXY" gridSizeX="3.5" gridSizeY="3.5" />
            <id>system:6,barrel:3,module:4,layer:6,slice:5,x:32:-16,y:-16</id>
        </readout>        
        <readout name="EcalEndcapHits">
            <segmentation type="GlobalGridXY" gridSizeX="3.5" gridSizeY="3.5" />
            <id>system:6,barrel:3,module:4,layer:6,slice:5,x:32:-16,y:-16</id>
        </readout>
        <readout name="HcalBarrelHits">
            <segmentation type="RegularNgonCartesianGridXY" gridSizeX="3.0*cm" gridSizeY="3.0*cm" />
            <id>system:6,barrel:3,module:4,layer:8,slice:5,x:32:-16,y:-16</id>
        </readout>
        <readout name="HcalEndcapHits">
            <segmentation type="GlobalGridXY" gridSizeX="3.0*cm" gridSizeY="3.0*cm" />
            <id>system:6,barrel:3,module:4,layer:8,slice:5,x:32:-16,y:-16</id>
        </readout>
        <readout name="HcalPlugHits">
            <segmentation type="GlobalGridXY" gridSizeX="3.0*cm" gridSizeY="3.0*cm" />
            <id>system:8,barrel:3,module:4,layer:8,slice:5,x:32:-16,y:-16</id>
        </readout>
        <readout name="MuonBarrelHits">
            <segmentation type="RegularNgonCartesianGridXY" gridSizeX="3.0*cm" gridSizeY="3.0*cm" />
            <id>system:8,barrel:3,module:4,layer:8,slice:5,x:32:-16,y:-16</id>
        </readout>
        <readout name="MuonEndcapHits">
            <segmentation type="GlobalGridXY" gridSizeX="3.0*cm" gridSizeY="3.0*cm" />
            <id>system:8,barrel:3,module:4,layer:8,slice:5,x:32:-16,y:-16</id>
        </readout>
        <readout name="SiTrackerForwardHits">
            <id>system:6,barrel:3,layer:4,wedge:6,module:6,sensor:1,side:32:-2,strip:28</id>
        </readout>
        <readout name="LumiCalHits">
            <segmentation type="GridXYZ" gridSizeX="0.35*cm" gridSizeY="0.35*cm" />
            <id>system:8,layer:8,barrel:3,x:32:-16,y:-16</id>
        </readout>
        <readout name="BeamCalHits">
            <segmentation type="GridXYZ" gridSizeX="0.35*cm" gridSizeY="0.35*cm" />
            <id>system:8,layer:8,barrel:3,x:32:-16,y:-16</id>
        </readout>
    </readouts>
    <fields>
        <field name="GlobalSolenoid" type="SolenoidMagnet" 
          inner_field="5.0*tesla"
          outer_field="-1.5*tesla" 
          zmax="SolenoidCoilOuterZ"
          outer_radius="SolenoidalFieldRadius">
        </field>
    </fields>
</lccdd>
